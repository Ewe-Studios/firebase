(this["webpackJsonpfirebase-tools-ui"]=this["webpackJsonpfirebase-tools-ui"]||[]).push([[4],{108:function(e,t,n){"use strict";var r=n(198);n.o(r,"databaseReducer")&&n.d(t,"databaseReducer",(function(){return r.databaseReducer})),n.o(r,"databaseSaga")&&n.d(t,"databaseSaga",(function(){return r.databaseSaga})),n.o(r,"databasesSubscribe")&&n.d(t,"databasesSubscribe",(function(){return r.databasesSubscribe})),n.o(r,"databasesUnsubscribe")&&n.d(t,"databasesUnsubscribe",(function(){return r.databasesUnsubscribe}));var a=n(60);n.d(t,"databasesSubscribe",(function(){return a.d})),n.d(t,"databasesUnsubscribe",(function(){return a.e}));var c=n(199);n.d(t,"databaseReducer",(function(){return c.a}));var i=n(200);n.d(t,"databaseSaga",(function(){return i.a}))},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var r=n(12),a=Object(r.createAction)("@log/RECEIVED")(),c=Object(r.createAction)("@log/RESET")()},118:function(e,t,n){"use strict";var r=n(201);n.o(r,"logReceived")&&n.d(t,"logReceived",(function(){return r.logReceived})),n.o(r,"logReducer")&&n.d(t,"logReducer",(function(){return r.logReducer})),n.o(r,"logReset")&&n.d(t,"logReset",(function(){return r.logReset}));var a=n(115);n.d(t,"logReceived",(function(){return a.a})),n.d(t,"logReset",(function(){return a.b}));var c=n(202);n.d(t,"logReducer",(function(){return c.a}))},133:function(e,t,n){},181:function(e,t,n){e.exports={image:"UserFormDialog_image__1Z6Cw",loading:"UserFormDialog_loading__nfVD8"}},182:function(e,t,n){e.exports={filterForm:"AuthFilter_filterForm__W0zqx"}},183:function(e,t,n){e.exports={barActions:"AuthHeader_barActions__3eROi",addUserButton:"AuthHeader_addUserButton__35cpq"}},186:function(e,t,n){e.exports={"query-panel":"Collection_query-panel__1MziT",badge:"Collection_badge__B5KHa"}},188:function(e,t,n){e.exports={container:"StatusLabel_container__2Y6KW",icon:"StatusLabel_icon__34nuE"}},19:function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"i",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return O}));var r=n(24),a=n(221),c=n.n(a);function i(e){return void 0!==e&&"data"in e}function o(e){return void 0!==e&&"error"in e}function s(e,t){if(void 0!==e)return"error"in e?e:{data:t(e.data)}}function u(e,t){return{loading:e.loading,result:s(e.result,t)}}function l(e){return{loading:!1,result:{data:e}}}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,a=t;r<a.length;r++){var c=a[r];if(o(c))return c}for(var i=0,s=t;i<s.length;i++){var u=s[i];if(void 0===u)return}return{data:t.map((function(e){return e.data}))}}function j(e,t){return void 0===e?t.onNone():o(e)?t.onError(e.error):t.onData(e.data)}function b(e,t){return j(e.result,{onNone:function(){return t.onNone(e.loading)},onData:function(n){return t.onData(n,e.loading)},onError:function(n){return t.onError(n,e.loading)}})}function f(e,t){return b(e,{onNone:function(){return t},onData:function(e){return e},onError:function(){return t}})}function O(e,t,n){var a=Object(r.b)(e)?Object(r.c)(e)[t]:e[t];c()(a,n)||(e[t]=n)}},195:function(e,t){},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(24),a=n(12),c=n(19),i=n(67),o=Object(a.createReducer)({loading:!1}).handleAction(i.b,(function(e){return Object(r.a)(e,(function(e){e.loading=!0}))})).handleAction(i.c,(function(e,t){var n=t.payload;return Object(r.a)(e,(function(e){e.loading=!1,Object(c.h)(e,"result",{data:n})}))})).handleAction(i.a,(function(e,t){var n=t.payload;return Object(r.a)(e,(function(e){e.loading=!1,Object(c.h)(e,"result",{error:n})}))}))},197:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(6),a=n.n(r),c=n(13),i=n(11),o=n(12),s=n(67),u=a.a.mark(f),l=a.a.mark(O),d=a.a.mark(h);function j(){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/config");case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error("HTTP ".concat(t.status,": ").concat(t.statusText));case 5:return e.abrupt("return",t.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)(j);case 3:return t=e.sent,e.next=6,Object(i.e)(Object(s.c)(t));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(i.e)(Object(s.a)({message:e.t0.message}));case 12:case"end":return e.stop()}}),u,null,[[0,8]])}function O(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(i.e)(Object(s.b)());case 3:return e.next=5,Object(i.c)(5e3);case 5:e.next=0;break;case 7:case"end":return e.stop()}}),l)}function h(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)([Object(i.h)(Object(o.getType)(s.b),f),Object(i.h)(Object(o.getType)(s.d),O)]);case 2:case"end":return e.stop()}}),d)}},198:function(e,t){},199:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(21),a=n(24),c=n(12),i=n(19),o=n(60),s=Object(c.createReducer)({databases:{loading:!1},databasesSubscribed:!1}).handleAction(o.b,(function(e,t){return Object(a.a)(e,(function(e){e.databases.loading=!0}))})).handleAction(o.c,(function(e,t){var n=t.payload,c=Object(r.a)(n);return c.sort((function(e,t){return e.name.localeCompare(t.name)})),Object(a.a)(e,(function(e){e.databases.loading=!1,Object(i.h)(e.databases,"result",{data:c})}))})).handleAction(o.a,(function(e,t){var n=t.payload;return Object(a.a)(e,(function(e){e.databases.loading=!1,Object(i.h)(e.databases,"result",{error:n})}))})).handleAction(o.d,(function(e){return Object(a.a)(e,(function(e){e.databasesSubscribed=!0}))})).handleAction(o.e,(function(e){return Object(a.a)(e,(function(e){e.databasesSubscribed=!1}))}))},200:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(6),a=n.n(r),c=n(7),i=n(13),o=n(11),s=n(40),u=n(12),l=n(41),d=n(19),j=n(60),b=a.a.mark(x),f=a.a.mark(g),O=a.a.mark(w),h=a.a.mark(C);function p(e,t){return v.apply(this,arguments)}function v(){return(v=Object(i.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://".concat(t.hostAndPort,"/.inspect/databases.json?ns=").concat(n));case 2:if(200===(r=e.sent).status){e.next=5;break}throw new Error("HTTP ".concat(r.status,": ").concat(r.statusText));case 5:return e.abrupt("return",r.json());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=Object(s.a)(l.e,l.c,d.a);function x(){var e,t,n,r;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.f)(m);case 2:if(e=a.sent){a.next=5;break}throw new Error("Database emulator config is not ready yet.");case 5:if(!Object(d.e)(e)){a.next=7;break}throw new Error("Error fetching Database emulator config: "+e.error.message);case 7:if(t=Object(c.a)(e.data,2),n=t[0],r=t[1]){a.next=10;break}throw new Error("Database emulator is not started!");case 10:return a.abrupt("return",{projectId:n,config:r});case 11:case"end":return a.stop()}}),b)}function g(e){var t,n,r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)(x);case 3:return t=e.sent,n=t.projectId,r=t.config,e.next=8,Object(o.b)(p,r,n);case 8:return c=e.sent,e.next=11,Object(o.e)(Object(j.c)(c));case 11:e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(0),e.next=17,Object(o.e)(Object(j.a)({message:e.t0.message}));case 17:case"end":return e.stop()}}),f,null,[[0,13]])}var y=function(e){return e.database.databasesSubscribed};function w(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(o.g)(Object(u.getType)(j.d));case 3:return e.next=5,Object(o.f)(y);case 5:if(!e.sent){e.next=12;break}return e.next=8,Object(o.e)(Object(j.b)());case 8:return e.next=10,Object(o.c)(5e3);case 10:e.next=3;break;case 12:e.next=0;break;case 14:case"end":return e.stop()}}),O)}function C(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.a)([Object(o.h)(Object(u.getType)(j.b),g),w()]);case 2:case"end":return e.stop()}}),h)}},201:function(e,t){},202:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(21),a=n(8),c=n(12),i=n(115),o=Object(c.createReducer)({history:[]}).handleAction(i.a,(function(e,t){var n=t.payload;return Object(a.a)(Object(a.a)({},e),{},{history:[].concat(Object(r.a)(e.history),[n])})})).handleAction(i.b,(function(e){return Object(a.a)(Object(a.a)({},e),{},{history:[]})}))},203:function(e,t,n){},223:function(e,t,n){e.exports={wrapper:"OneAccountPerEmailCard_wrapper__3fZZe"}},224:function(e,t,n){e.exports={description:"OneAccountPerEmailDialog_description__HG1Vb"}},227:function(e,t,n){e.exports={clearAllButton:"UsersCard_clearAllButton__23izn"}},228:function(e,t,n){e.exports={iconWrapper:"ProviderCell_iconWrapper__2KYaU"}},233:function(e,t,n){e.exports={container:"ImportDialog_container__3M_uy"}},239:function(e,t,n){e.exports={missing:"DocumentListItem_missing__2gbCW"}},270:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){e.exports={"sign-in-quota":"Auth_sign-in-quota__XoMrq"}},282:function(e,t,n){},284:function(e,t,n){},285:function(e,t,n){},286:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){},290:function(e,t,n){},292:function(e,t,n){},293:function(e,t,n){},294:function(e,t,n){},295:function(e,t,n){},296:function(e,t,n){},297:function(e,t,n){},339:function(e,t,n){},343:function(e,t,n){},348:function(e,t,n){},349:function(e,t,n){},350:function(e,t,n){},351:function(e,t,n){},352:function(e,t,n){},369:function(e,t,n){},370:function(e,t,n){},371:function(e,t,n){},372:function(e,t,n){},373:function(e,t,n){},374:function(e,t,n){"use strict";n.r(t);n(269),n(270);var r,a=n(74),c=n(38),i=n(0),o=n.n(i),s=n(33),u=n.n(s),l=n(23),d=n(42),j=n(46),b="#681DA8",f="#F5F5F5",O=(n(278),n(401)),h=n(417),p=n(45),v=n(7),m=(n(279),n(63)),x=n(6),g=n.n(x),y=n(77),w=n(11),C=n(40),N=n(8),E=n(21),S=n(24),k=n(12),R=n(17),A=n(50);function _(e){return"=="===e.operator||"!="===e.operator||">"===e.operator||">="===e.operator||"<="===e.operator||"<"===e.operator||"array-contains"===e.operator}function D(e){return"in"===e.operator||"not-in"===e.operator||"array-contains-any"===e.operator}function I(e){return!e.operator||">"===e.operator||">="===e.operator||"<="===e.operator||"<"===e.operator}!function(e){e.ARRAY="array",e.BLOB="blob",e.BOOLEAN="boolean",e.GEOPOINT="geopoint",e.JSON="json",e.MAP="map",e.NULL="null",e.NUMBER="number",e.REFERENCE="reference",e.STRING="string",e.TIMESTAMP="timestamp"}(r||(r={}));var T=n(62),U=n(92),L=n.n(U),F=/^-?([\d]*\.?\d+|Infinity|NaN)$/;function P(e){return e.slice(0,e.length-1)}function M(e){if(!e.length)throw new Error("".concat(e," is empty and has no _last_ field name"));return e[e.length-1]}function B(e){return null===e?r.NULL:e instanceof A.a.firestore.Timestamp?r.TIMESTAMP:e instanceof Array?r.ARRAY:e instanceof A.a.firestore.DocumentReference?r.REFERENCE:e instanceof A.a.firestore.GeoPoint?r.GEOPOINT:e instanceof A.a.firestore.Blob?r.BLOB:"object"===typeof e?r.MAP:typeof e}function V(e){return"boolean"===typeof e}function q(e){return"number"===typeof e}function W(e){return B(e)===r.MAP}function z(e){return B(e)===r.ARRAY}function H(e){return!W(e)&&!z(e)}var G=Object(S.a)((function(e,t,n){var r=L()(e,P(t))||e;if(W(r))r[M(t)]=n;else{if(!z(r))return n;r[Number(M(t))]=n}})),J=Object(S.a)((function(e,t){var n=L()(e,P(t))||e;W(n)?delete n[M(t)]:z(n)&&n.splice(Number(M(t)),1)}));function K(e,t){switch(B(e)){case r.ARRAY:return function(e,t){var n="[",r=!0,a=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;if(n.length>1&&(n+=", "),n.length>t){n+="...";break}n+=K(s,t-n.length)}}catch(u){a=!0,c=u}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n+="]"}(e,t);case r.MAP:return function(e,t){var n="{",r=!0,a=!1,c=void 0;try{for(var i,o=Object.entries(e).sort((function(e,t){return Q(e[0],t[0])}))[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=Object(v.a)(i.value,2),u=s[0],l=s[1];if(n.length>1&&(n+=", "),n.length>t){n+="...";break}n+="".concat(u,": ").concat(K(l,t-n.length))}}catch(d){a=!0,c=d}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}return n+="}"}(e,t);case r.BLOB:var n=e.toBase64();return n.length<t?n:n.substr(0,t)+"...";case r.BOOLEAN:return e.toString();case r.GEOPOINT:var a=e;return"[".concat((i=a.latitude,"".concat(Math.abs(i),"\xb0 ").concat(i>=0?"N":"S")),", ").concat((c=a.longitude,"".concat(Math.abs(c),"\xb0 ").concat(c>=0?"E":"W")),"]");case r.NULL:return"null";case r.NUMBER:return e.toString();case r.REFERENCE:return e.path;case r.STRING:return'"'.concat(e,'"');case r.TIMESTAMP:return e.toDate().toString();case r.JSON:throw new Error("JSON field type is input only")}var c,i}function Q(e,t){return e.localeCompare(t)}var Z=function e(t){Object(T.a)(this,e),this.path=t};function Y(e){return!$(e)&&!function(e){return H(e)||e instanceof Z}(e)}function $(e){return e instanceof Array}function X(e){return"mapChildren"in e}function ee(e){return"arrayChildren"in e}function te(e){return"isJson"in e}function ne(e){if(void 0===e.uuid)throw new Error("Store has no root")}function re(e){if(!X(e))throw new Error("Field is not a map")}function ae(e){if(!ee(e))throw new Error("Field is not an array")}var ce=0;function ie(){return ce++}function oe(e){return Y(e)?function(e){var t=ie(),n=Object.entries(e).reduce((function(e,t){var n=e.mapChildren,r=e.fields,a=Object(v.a)(t,2),c=a[0],i=oe(a[1]);return ne(i),n.push({uuid:ie(),name:c,valueId:i.uuid}),{mapChildren:n,fields:Object(N.a)(Object(N.a)({},r),i.fields)}}),{mapChildren:[],fields:{}});return{uuid:t,fields:Object(N.a)(Object(N.a)({},n.fields),{},Object(R.a)({},t,{mapChildren:n.mapChildren}))}}(e):$(e)?function(e){var t=ie(),n=e.reduce((function(e,t){var n=e.arrayChildren,r=e.fields,a=oe(t);return ne(a),n.push({uuid:ie(),valueId:a.uuid}),{arrayChildren:n,fields:Object(N.a)(Object(N.a)({},r),a.fields)}}),{arrayChildren:[],fields:{}});return{uuid:t,fields:Object(N.a)(Object(N.a)({},n.fields),{},Object(R.a)({},t,{arrayChildren:n.arrayChildren}))}}(e):function(e){var t=ie();return e instanceof A.a.firestore.DocumentReference?{uuid:t,fields:Object(R.a)({},t,{value:new Z(e.path)})}:{uuid:t,fields:Object(R.a)({},t,{value:e})}}(e)}function se(e,t){ne(e);var n=e.fields[e.uuid];if(X(n))return n.mapChildren.reduce((function(n,r){return n[r.name]=se({uuid:r.valueId,fields:e.fields},t),n}),{});if(ee(n))return n.arrayChildren.reduce((function(n,r){return n.push(se({uuid:r.valueId,fields:e.fields},t)),n}),[]);if(n.value instanceof Z){if(!t)return"";try{return t.doc(n.value.path)}catch(r){return""}}return n.value}function ue(e){switch(e){case r.BLOB:return"";case r.BOOLEAN:return!0;case r.GEOPOINT:return new A.a.firestore.GeoPoint(0,0);case r.NULL:return null;case r.NUMBER:return 0;case r.REFERENCE:return new Z("");case r.STRING:return"";case r.TIMESTAMP:return A.a.firestore.Timestamp.fromDate(new Date)}return""}function le(e,t){return t.reduce((function(t,n){t.push(n);var r=e[n];return X(r)?t.push.apply(t,Object(E.a)(le(e,r.mapChildren.map((function(e){return e.valueId}))))):ee(r)&&t.push.apply(t,Object(E.a)(le(e,r.arrayChildren.map((function(e){return e.valueId}))))),t}),[])}var de=n(19),je=Object(k.createAction)("@auth/CREATE_USER_REQUEST")(),be=Object(k.createAction)("@auth/CREATE_USER_SUCCESS")(),fe=Object(k.createAction)("@auth/UPDATE_USER_REQUEST")(),Oe=Object(k.createAction)("@auth/UPDATE_USER_SUCCESS")(),he=Object(k.createAction)("@auth/SET_USER_DISABLED_REQUEST")(),pe=Object(k.createAction)("@auth/SET_USER_DISABLED_SUCCESS")(),ve=Object(k.createAction)("@auth/DELETE_USER_REQUEST")(),me=Object(k.createAction)("@auth/DELETE_USER_SUCCESS")(),xe=Object(k.createAction)("@auth/UPDATE_FILTER")(),ge=Object(k.createAction)("@auth/NUKE_USERS_REQUEST")(),ye=Object(k.createAction)("@auth/NUKE_USERS_SUCCESS")(),we=Object(k.createAction)("@auth/AUTH_FETCH_USERS_REQUEST")(),Ce=Object(k.createAction)("@auth/AUTH_FETCH_USERS_SUCCESS")(),Ne=Object(k.createAction)("@auth/AUTH_FETCH_USERS_ERROR")(),Ee=Object(k.createAction)("@auth/SET_ALLOW_DUPLICATE_EMAILS_REQUEST")(),Se=Object(k.createAction)("@auth/SET_ALLOW_DUPLICATE_EMAILS_SUCCESS")(),ke=Object(k.createAction)("@auth/GET_ALLOW_DUPLICATE_EMAILS_REQUEST")(),Re=(Object(k.createAction)("@auth/GET_ALLOW_DUPLICATE_EMAILS_SUCCESS")(),Object(k.createAction)("@auth/SET_AUTH_USER_DIALOG_DATA")()),Ae=Object(k.createAction)("@auth/SET_AUTH_USER_DIALOG_DATA_LOADING")(),_e=Object(k.createAction)("@auth/SET_AUTH_USER_DIALOG_DATA_ERRORS")(),De=Object(k.createAction)("@auth/CLEAR_AUTH_USER_DIALOG_DATA")(),Ie=Object(k.createReducer)({users:{loading:!0},filter:"",allowDuplicateEmails:!1}).handleAction(be,Object(S.a)((function(e,t){var n=t.payload;e.users=Object(de.g)(e.users,(function(e){return[].concat(Object(E.a)(e),[Object(N.a)({createdAt:(new Date).getTime().toString(),lastLoginAt:(new Date).getTime().toString(),localId:ie().toString(),disabled:!1},n.user)])}))}))).handleAction(Oe,Object(S.a)((function(e,t){var n=t.payload;e.users=Object(de.g)(e.users,(function(e){return e.map((function(e){return e.localId===n.user.localId?Object(N.a)(Object(N.a)({},e),n.user):e}))}))}))).handleAction(ye,Object(S.a)((function(e){e.users=Object(de.g)(e.users,(function(){return[]}))}))).handleAction(Se,Object(S.a)((function(e,t){var n=t.payload;e.allowDuplicateEmails=n}))).handleAction(pe,Object(S.a)((function(e,t){var n=t.payload;e.users=Object(de.g)(e.users,(function(e){return e.map((function(e){return e.localId===n.localId?Object(N.a)(Object(N.a)({},e),{},{disabled:n.disabled}):e}))}))}))).handleAction(me,Object(S.a)((function(e,t){var n=t.payload;e.users=Object(de.g)(e.users,(function(e){return e.filter((function(e){return e.localId!==n.localId}))}))}))).handleAction(xe,Object(S.a)((function(e,t){var n=t.payload.filter;e.filter=n}))).handleAction(Re,Object(S.a)((function(e,t){var n=t.payload;e.authUserDialogData=n}))).handleAction(Ae,Object(S.a)((function(e,t){var n=t.payload;e.authUserDialogData&&(e.authUserDialogData.loading=n)}))).handleAction(_e,Object(S.a)((function(e,t){var n=t.payload;e.authUserDialogData&&e.authUserDialogData.result&&(e.authUserDialogData.result.error=n)}))).handleAction(De,Object(S.a)((function(e){e.authUserDialogData=void 0}))).handleAction(Ce,Object(S.a)((function(e,t){var n=t.payload;e.users={loading:!1,result:{data:n}}}))).handleAction(Ne,Object(S.a)((function(e,t){var n=t.payload;e.users={loading:!1,result:{error:n}}}))),Te=n(13),Ue=n(73),Le=n(85),Fe=n(91),Pe=n(66),Me=n(160);var Be=function(e){Object(Le.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(Pe.a)(e);if(t()){var a=Object(Pe.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Fe.a)(this,n)}}(n);function n(e,r,a){var c;return Object(T.a)(this,n),(c=t.call(this,e)).response=r,c.json=a,c}return n}(Object(Me.a)(Error)),Ve=function(){function e(){Object(T.a)(this,e)}return Object(Ue.a)(e,[{key:"getToken",value:function(){return{accessToken:"owner"}}},{key:"jsonRequest",value:function(){var e=Object(Te.a)(g.a.mark((function e(t,n){var r,a,c,i,o,s,u=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:"GET",a=u.length>3&&void 0!==u[3]?u[3]:{"Content-Type":"application/json"},c=this.getToken(),i=c.accessToken,e.next=5,fetch(t,{method:r,body:JSON.stringify(n),headers:Object(N.a)({Authorization:"Bearer "+i},a)});case 5:return o=e.sent,e.next=8,o.json();case 8:if(s=e.sent,!(o.status>=400&&o.status<600)){e.next=11;break}throw new Be(s.error.message,o,s);case 11:return e.abrupt("return",{res:o,json:s});case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"deleteRequest",value:function(){var e=Object(Te.a)(g.a.mark((function e(t){var n,r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getToken(),r=n.accessToken,e.next=3,fetch(t,{method:"DELETE",headers:{Authorization:"Bearer "+r}});case 3:return a=e.sent,e.next=6,a.json();case 6:if(c=e.sent,!(a.status>=400&&a.status<600)){e.next=9;break}throw new Be(c.error.message,a,c);case 9:return e.abrupt("return",{res:a,json:c});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"patchRequest",value:function(){var e=Object(Te.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.jsonRequest(t,n,"PATCH"));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"postFile",value:function(){var e=Object(Te.a)(g.a.mark((function e(t,n){var r,a,c,i,o,s,u=arguments;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:"POST",a=qe(n),c=this.getToken(),i=c.accessToken,a.append("auth",i),e.next=6,fetch(t,{method:r,body:a});case 6:return o=e.sent,e.next=9,o.text();case 9:if(s=e.sent,!(o.status>=400&&o.status<600)){e.next=12;break}throw new Be(s,o);case 12:return e.abrupt("return",{res:o,text:s});case 13:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function qe(e){var t=new FormData;return t.append("upload",e),t}var We=function(e){var t,n=null===(t=e.passwordHash)||void 0===t?void 0:t.match(He);return Object(N.a)(Object(N.a)({password:n?n[1]:""},e),{},{providerUserInfo:e.providerUserInfo||[]})},ze=function(e){Object(Le.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(Pe.a)(e);if(t()){var a=Object(Pe.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Fe.a)(this,n)}}(n);function n(e,r){var a;return Object(T.a)(this,n),(a=t.call(this)).hostAndPort=e,a.projectId=r,a.baseUrl="http://".concat(a.hostAndPort,"/identitytoolkit.googleapis.com/v1/projects/").concat(a.projectId),a.baseEmulatorUrl="http://".concat(a.hostAndPort,"/emulator/v1/projects/").concat(a.projectId),a}return Object(Ue.a)(n,[{key:"nukeUsers",value:function(){var e=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deleteRequest("".concat(this.baseEmulatorUrl,"/accounts"));case 2:return e.abrupt("return",[]);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(Te.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:query"),{},"POST");case 2:return t=e.sent,n=t.json,e.abrupt("return",n.userInfo.map(We));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=Object(Te.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:lookup"),{localId:[t]},"POST");case 2:if(n=e.sent,(r=n.json).users&&r.users.length){e.next=6;break}throw new Error('User "'.concat(t,'" not found in Project "').concat(this.projectId,'"!'));case 6:return e.abrupt("return",We(r.users[0]));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(Te.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts"),Object(N.a)({},t),"POST");case 2:return n=e.sent,r=n.json,e.abrupt("return",this.fetchUser(r.localId));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateConfig",value:function(){var e=Object(Te.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.patchRequest("".concat(this.baseEmulatorUrl,"/config"),{signIn:{allowDuplicateEmails:t}});case 2:return n=e.sent,r=n.json,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getConfig",value:function(){var e=Object(Te.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.baseEmulatorUrl,"/config"));case 2:return e.next=4,e.sent.json();case 4:return t=e.sent,n=t.signIn,e.abrupt("return",n.allowDuplicateEmails);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(Te.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:update"),t,"POST");case 2:return n=e.sent,r=n.json,e.abrupt("return",this.fetchUser(r.localId));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(Te.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.jsonRequest("".concat(this.baseUrl,"/accounts:delete"),t,"POST");case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ve),He=/^fakeHash:salt=[\w\d]+:password=(.*)$/,Ge=n(93),Je=n(41),Ke=function(e){return e.auth},Qe=Object(C.a)(Ke,(function(e){return e.users})),Ze=Object(C.a)(Ke,(function(e){return e.authUserDialogData})),Ye=Object(C.a)(Ze,(function(e){return e&&Object(de.d)(e.result)?e.result.data:void 0})),$e=Object(C.a)(Ye,(function(e){return!!e})),Xe=Object(C.a)(Qe,(function(e){return e.result})),et=Object(C.a)(Qe,(function(e){return Object(E.a)(Object(de.j)(e,[])).sort((function(e,t){return Number(new Date(t.createdAt))-Number(new Date(e.createdAt||0))}))})),tt=Object(C.a)(et,(function(e){return new Set(e.map((function(e){return e.email})).filter((function(e){return!!e})))})),nt=Object(C.a)(et,(function(e){return new Set(e.map((function(e){return e.phoneNumber})).filter((function(e){return!!e})))})),rt=Object(C.a)(et,(function(e){return e.length>0})),at=Object(C.a)(Ke,(function(e){return e.filter})),ct=Object(C.a)(Ke,(function(e){return e.allowDuplicateEmails})),it=Object(C.a)(et,at,(function(e,t){return t?e.filter((function(e){return[e.localId,e.displayName,e.email||"",e.phoneNumber||""].join("\n").toLocaleUpperCase().includes(t.toLocaleUpperCase())})):e})),ot=Object(C.a)(et,(function(e){return 0===e.length})),st=Object(C.a)(et,it,(function(e,t){return e.length>0&&0===t.length})),ut=Object(C.a)(et,it,(function(e,t){return t.length>0})),lt=Object(C.a)(Je.b,(function(e){return Object(de.f)(e,(function(e){return e.auth}))})),dt=g.a.mark(yt),jt=g.a.mark(wt),bt=g.a.mark(Ct),ft=g.a.mark(Nt),Ot=g.a.mark(Et),ht=g.a.mark(St),pt=g.a.mark(kt),vt=g.a.mark(Rt),mt=g.a.mark(At),xt=g.a.mark(_t),gt=g.a.mark(Dt);function yt(){var e,t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(w.b)(_t);case 2:return e=n.sent,n.prev=3,n.next=6,Object(w.b)([e,"fetchUsers"]);case 6:return t=n.sent,n.next=9,Object(w.e)(Ce(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(3),n.next=15,Object(w.e)(Ne({message:"Error when fetching users"}));case 15:case"end":return n.stop()}}),dt,null,[[3,11]])}function wt(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.f)(lt);case 2:if(!e.sent.data){e.next=8;break}return e.next=6,Object(w.e)(we());case 6:return e.next=8,Object(w.e)(ke());case 8:case"end":return e.stop()}}),jt)}function Ct(e){var t,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(w.b)(_t);case 3:return n=r.sent,r.next=6,Object(w.b)([n,"deleteUser"],{localId:t.localId});case 6:return r.next=8,Object(w.e)(me({localId:t.localId}));case 8:case"end":return r.stop()}}),bt)}function Nt(e){var t,n,r,a;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return t=e.payload,c.next=3,Object(w.b)(_t);case 3:return n=c.sent,c.prev=4,c.next=7,Object(w.e)(Ae(!0));case 7:return c.next=9,Object(w.b)([n,"createUser"],t.user);case 9:if(r=c.sent,a=Object(N.a)(Object(N.a)({},r),t.user),!t.user.customAttributes){c.next=14;break}return c.next=14,Object(w.b)([n,"updateUser"],a);case 14:return c.next=16,Object(w.e)(be({user:r}));case 16:if(t.keepDialogOpen){c.next=19;break}return c.next=19,Object(w.e)(De());case 19:c.next=25;break;case 21:return c.prev=21,c.t0=c.catch(4),c.next=25,Object(w.e)(_e(c.t0.message));case 25:return c.prev=25,c.next=28,Object(w.e)(Ae(!1));case 28:return c.finish(25);case 29:case"end":return c.stop()}}),ft,null,[[4,21,25,29]])}function Et(e){var t,n,r;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object(w.b)(_t);case 3:return n=a.sent,a.prev=4,a.next=7,Object(w.e)(Ae(!0));case 7:return a.next=9,Object(w.b)([n,"updateUser"],Object(N.a)(Object(N.a)({},t.user),{},{localId:t.localId}));case 9:return r=a.sent,a.next=12,Object(w.e)(Oe({user:Object(N.a)(Object(N.a)({},r),t.user)}));case 12:return a.next=14,Object(w.e)(De());case 14:a.next=20;break;case 16:return a.prev=16,a.t0=a.catch(4),a.next=20,Object(w.e)(_e(a.t0.message));case 20:return a.prev=20,a.next=23,Object(w.e)(Ae(!1));case 23:return a.finish(20);case 24:case"end":return a.stop()}}),Ot,null,[[4,16,20,24]])}function St(e){var t,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(w.b)(_t);case 3:return n=r.sent,r.next=6,Object(w.b)([n,"updateUser"],{disableUser:t.disabled,localId:t.localId});case 6:return r.next=8,Object(w.e)(pe(t));case 8:case"end":return r.stop()}}),ht)}function kt(e){var t,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.payload,r.next=3,Object(w.b)(_t);case 3:return n=r.sent,r.next=6,Object(w.b)([n,"updateConfig"],t);case 6:return r.next=8,Object(w.e)(Se(t));case 8:case"end":return r.stop()}}),pt)}function Rt(){var e,t;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(w.b)(_t);case 2:return e=n.sent,n.next=5,Object(w.b)([e,"getConfig"]);case 5:return t=n.sent,n.next=8,Object(w.e)(Se(t));case 8:case"end":return n.stop()}}),vt)}function At(){var e;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(w.b)(_t);case 2:return e=t.sent,t.next=5,Object(w.b)([e,"nukeUsers"]);case 5:return t.next=7,Object(w.e)(ye());case 7:case"end":return t.stop()}}),mt)}function _t(){var e,t,n;return g.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(w.f)(lt);case 2:return e=r.sent,r.next=5,Object(w.f)(Je.e);case 5:return t=r.sent,n=t.data,r.abrupt("return",new ze(e.data.hostAndPort,n));case 8:case"end":return r.stop()}}),xt)}function Dt(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.g)(Ge.fetchSuccess);case 2:return e.next=4,Object(w.a)([Object(w.h)(Object(k.getType)(we),yt),Object(w.h)(Object(k.getType)(je),Nt),Object(w.h)(Object(k.getType)(ge),At),Object(w.h)(Object(k.getType)(ve),Ct),Object(w.h)(Object(k.getType)(fe),Et),Object(w.h)(Object(k.getType)(he),St),Object(w.h)(Object(k.getType)(Ee),kt),Object(w.h)(Object(k.getType)(ke),Rt),Object(w.b)(wt)]);case 4:case"end":return e.stop()}}),gt)}var It=n(108),Tt=n(118),Ut=g.a.mark(Lt);function Lt(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([Object(w.d)(Ge.configSaga),Object(w.d)(It.databaseSaga),Object(w.d)(Dt)]);case 2:case"end":return e.stop()}}),Ut)}var Ft=Object(y.c)({config:Ge.configReducer,database:It.databaseReducer,auth:Ie,log:Tt.logReducer});function Pt(e){return C.b(e)}n(282);var Mt=n(26),Bt=n(14),Vt=n(55),qt=n(27),Wt=n(1),zt=$t(Object(Wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Wt.jsxs)("g",{fill:"none",children:[Object(Wt.jsx)("path",{d:"M0 0h192v192H0z"}),Object(Wt.jsx)("path",{d:"M96 104l-72 32v-32l72-32 72 32v28-6 10zm0-88l72 32v32L96 48 24 80V48zm27 116l36 16-63 28v-32z",fill:"currentColor",fillRule:"evenodd"})]})})),Ht=$t(Object(Wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(Wt.jsx)("path",{d:"M10.8 7.79999C10.8 9.45684 9.45681 10.8 7.79995 10.8C6.1431 10.8 4.79995 9.45684 4.79995 7.79999C4.79995 6.14313 6.1431 4.79999 7.79995 4.79999C9.45681 4.79999 10.8 6.14313 10.8 7.79999ZM1.19995 16.68V19.2H14.4V16.68C14.4 14.2745 11.445 13.2 7.79995 13.2C4.15487 13.2 1.19995 14.2745 1.19995 16.68ZM16.2 10.8C17.8568 10.8 19.2 9.45684 19.2 7.79999C19.2 6.14313 17.8568 4.79999 16.2 4.79999C14.5431 4.79999 13.2 6.14313 13.2 7.79999C13.2 9.45684 14.5431 10.8 16.2 10.8ZM22.8 19.2H15.6V16.68C15.6 15.25 14.9331 14.1526 13.7752 13.3811C14.5258 13.2593 15.3439 13.2 16.2 13.2C19.845 13.2 22.8 14.2745 22.8 16.68V19.2Z",fill:"currentColor",fillRule:"evenodd"})})),Gt=$t(Object(Wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Wt.jsxs)("g",{fill:"none",children:[Object(Wt.jsx)("path",{d:"M0 0h192v192H0z"}),Object(Wt.jsx)("path",{d:"M24 120h144v32.016c0 8.832-7.144 15.984-15.96 15.984H39.96C31.144 168 24 160.816 24 152.016zm0-80.064C24 31.136 31.144 24 39.96 24h112.08c8.816 0 15.96 7.2 15.96 15.936v56.128c0 8.8-7.144 15.936-15.96 15.936H39.96C31.144 112 24 104.8 24 96.064zM40 40h112v24H40zm0 44.04C40 81.8 41.712 80 44.04 80h7.92C54.2 80 56 81.712 56 84.04v7.92C56 94.2 54.288 96 51.96 96h-7.92C41.8 96 40 94.288 40 91.96zm0 56c0-2.24 1.712-4.04 4.04-4.04h7.92c2.24 0 4.04 1.712 4.04 4.04v7.92c0 2.24-1.712 4.04-4.04 4.04h-7.92c-2.24 0-4.04-1.712-4.04-4.04z",fill:"currentColor",fillRule:"evenodd"})]})})),Jt=$t(Object(Wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Wt.jsxs)("g",{fill:"none",children:[Object(Wt.jsx)("path",{d:"M0 0h192v192H0z"}),Object(Wt.jsx)("path",{d:"M160.056 134.048v-76.08l-26.944-26.944 16.952-16.96L184 48v86.16l-.056.032v9.832l-33.904 33.912L133.112 161zm-128.112-.024l26.944 26.952-16.952 16.96L8 144V57.84l.056-.032v-9.832L41.96 14.064 58.888 31 31.944 57.952v76.08zm28.064-26c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032zm35.984 0c-6.647 0-12.036-5.389-12.036-12.036 0-6.647 5.389-12.036 12.036-12.036 6.645 0 12.032 5.387 12.032 12.032 0 6.645-5.387 12.032-12.032 12.032z",fill:"currentColor",fillRule:"evenodd"})]})})),Kt=$t(Object(Wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",children:Object(Wt.jsx)("path",{d:"M96 16c-44.16 0-80 35.84-80 80s35.84 80 80 80 80-35.84 80-80-35.84-80-80-80zm-8 143.44c-31.6-3.92-56-30.8-56-63.44 0-4.96.64-9.68 1.68-14.32L72 120v8c0 8.8 7.2 16 16 16zm55.2-20.32c-2.08-6.48-8-11.12-15.2-11.12h-8v-24c0-4.4-3.6-8-8-8H64V80h16c4.4 0 8-3.6 8-8V56h16c8.8 0 16-7.2 16-16v-3.28c23.44 9.52 40 32.48 40 59.28 0 16.64-6.4 31.76-16.8 43.12z",fillRule:"evenodd",fill:"currentColor"})})),Qt=$t(Object(Wt.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:Object(Wt.jsxs)("g",{children:[Object(Wt.jsx)("path",{d:"M19.83,9.7a1.72,1.72,0,1,0-2.36-.63A1.73,1.73,0,0,0,19.83,9.7Z",fill:"currentColor"}),Object(Wt.jsx)("path",{d:"M4.17,9.7a1.72,1.72,0,1,0-.63-2.35A1.72,1.72,0,0,0,4.17,9.7Z",fill:"currentColor"}),Object(Wt.jsx)("circle",{cx:"12",cy:"20.28",r:"1.72",fill:"currentColor"}),Object(Wt.jsx)("path",{d:"M20.06,14.36a2.19,2.19,0,0,0-2.46.19l-2.9-1.68a2.67,2.67,0,0,0,.08-.64,2.77,2.77,0,0,0-2-2.65V6.22a2.19,2.19,0,1,0-1.6,0V9.58a2.77,2.77,0,0,0-2,2.65,2.67,2.67,0,0,0,.08.64L6.4,14.55a2.2,2.2,0,1,0,.79,1.38l2.9-1.68a2.75,2.75,0,0,0,3.82,0l2.9,1.68a2.18,2.18,0,1,0,3.25-1.57Z",fill:"currentColor"})]})})),Zt=$t(Object(Wt.jsxs)("svg",{viewBox:"0 0 38 38",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(Wt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 37C28.9411 37 37 28.9411 37 19C37 9.05887 28.9411 1 19 1C9.05887 1 1 9.05887 1 19C1 28.9411 9.05887 37 19 37Z",fill:"white",stroke:"black",strokeOpacity:"0.12"}),Object(Wt.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 22H28V26.002C28.0005 26.5315 27.7906 27.0396 27.4164 27.4143C27.0423 27.7891 26.5345 27.9997 26.005 28H11.995C10.8929 27.9978 10.0005 27.1041 10 26.002V22ZM10 11.992C10 10.892 10.893 10 11.995 10H26.005C27.107 10 28 10.9 28 11.992V19.008C28 20.108 27.107 21 26.005 21H11.995C10.893 21 10 20.1 10 19.008V11.992ZM12 12H26V15H12V12ZM12 17.505C12 17.225 12.214 17 12.505 17H13.495C13.775 17 14 17.214 14 17.505V18.495C14 18.775 13.786 19 13.495 19H12.505C12.3704 19.0022 12.2407 18.9497 12.1455 18.8545C12.0503 18.7593 11.9978 18.6296 12 18.495V17.505ZM12 24.505C12 24.225 12.214 24 12.505 24H13.495C13.775 24 14 24.214 14 24.505V25.495C14 25.775 13.786 26 13.495 26H12.505C12.3704 26.0022 12.2407 25.9497 12.1455 25.8545C12.0503 25.7593 11.9978 25.6296 12 25.495V24.505Z",fill:"currentColor"})]})),Yt=$t(Object(Wt.jsx)("svg",{viewBox:"0 0 10 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(Wt.jsx)("path",{d:"M2.99998 13C2.99998 13.3667 3.29998 13.6667 3.66665 13.6667H6.33331C6.69998 13.6667 6.99998 13.3667 6.99998 13V12.3334H2.99998V13ZM4.99998 0.333374C2.42665 0.333374 0.333313 2.42671 0.333313 5.00004C0.333313 6.58671 1.12665 7.98004 2.33331 8.82671V10.3334C2.33331 10.7 2.63331 11 2.99998 11H6.99998C7.36665 11 7.66665 10.7 7.66665 10.3334V8.82671C8.87331 7.98004 9.66665 6.58671 9.66665 5.00004C9.66665 2.42671 7.57331 0.333374 4.99998 0.333374ZM6.89998 7.73337L6.33331 8.13337V9.66671H3.66665V8.13337L3.09998 7.73337C2.65831 7.42718 2.29727 7.01867 2.04768 6.54271C1.79809 6.06675 1.66736 5.53747 1.66665 5.00004C1.66665 3.16004 3.15998 1.66671 4.99998 1.66671C6.83998 1.66671 8.33331 3.16004 8.33331 5.00004C8.33331 6.08671 7.79998 7.10671 6.89998 7.73337Z",fill:"currentColor"})}));function $t(e){return function(t){var n=t.size,r=void 0===n?"small":n,a=Object(Vt.a)(t,["size"]);return Object(Wt.jsx)(qt.a,Object(N.a)({icon:{strategy:"component",size:r,icon:e}},a))}}var Xt,en,tn=function(e){var t=e.productName;return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(p.b,{desktop:2,tablet:0,phone:0}),Object(Wt.jsx)(p.b,{span:8,align:"middle",children:Object(Wt.jsxs)(Mt.a,{className:"EmulatorDisabled",children:[Object(Wt.jsx)("div",{className:"EmulatorDisabled-graphics",children:Object(Wt.jsx)("img",{src:"/assets/img/database.png",alt:""})}),Object(Wt.jsxs)("div",{className:"EmulatorDisabled-description",children:[Object(Wt.jsxs)(Bt.a,{use:"headline6",tag:"h3",children:["The ",t," Emulator is currently not running."]}),Object(Wt.jsxs)(Bt.a,{use:"body1",tag:"p",children:["If you are not using ",t," in your testing, everything is fine. If you want to use ",t," in your testing, then the best way to set it up and start it is to run the following command initialize the ",t," Emulator:"," ",Object(Wt.jsx)("code",{children:"firebase init emulators"}),". Followed by:"," ",Object(Wt.jsx)("code",{children:"firebase emulators:start"}),"."]}),Object(Wt.jsx)(Bt.a,{use:"body1",tag:"p",children:Object(Wt.jsxs)("a",{href:"https://firebase.google.com/docs/emulator-suite/install_and_configure#configure_emulator_suite",children:[Object(Wt.jsx)(Yt,{size:"xsmall"})," Learn more"]})})]})]})})]})},nn=(n(284),n(144)),rn=n(31),an=n.n(rn),cn=function(e){var t=e.message,n=e.span,r=e.cover,a=e.scrim,c=Object(Vt.a)(e,["message","span","cover","scrim"]),i=Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(nn.a,{size:"xlarge"}),t&&Object(Wt.jsx)(Bt.a,{use:"body2",tag:"p",children:t})]});return void 0===n?Object(Wt.jsx)("div",Object(N.a)(Object(N.a)({className:an()("Spinner",{cover:r,scrim:a})},c),{},{children:i})):Object(Wt.jsx)(p.b,Object(N.a)(Object(N.a)({span:n,align:"middle",className:"Spinner"},c),{},{children:i}))},on=n(29),sn=n(223),un=n.n(sn),ln=n(244),dn=n(110),jn=n(224),bn=n.n(jn),fn=Pt({allowDuplicateEmails:ct}),On=Object(l.b)(fn,(function(e){return{setAllowDuplicateEmails:function(t){return e(Ee(t))}}}))((function(e){var t=e.allowDuplicateEmails,n=e.onClose,r=e.setAllowDuplicateEmails,a=o.a.useState(t),c=Object(v.a)(a,2),i=c[0],s=c[1];return Object(Wt.jsxs)(ln.a,{renderToPortal:!0,open:!0,onClose:n,children:[Object(Wt.jsx)(ln.e,{children:"Account email address settings"}),Object(Wt.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(i),n()},children:[Object(Wt.jsxs)(ln.d,{children:[Object(Wt.jsx)(Bt.a,{use:"body2",className:bn.a.description,children:"This setting either prevents or allows users to create multiple accounts using the same email address if they sign in to your app using different authentication providers."}),Object(Wt.jsx)(dn.a,{value:"false",checked:!i,onChange:function(){return s(!1)},onClick:function(){return s(!1)},children:"Prevent creation of multiple accounts with the same email address"}),Object(Wt.jsx)(dn.a,{value:"true",checked:i,onChange:function(){return s(!0)},onClick:function(){return s(!0)},children:"Allow creation of multiple accounts with the same email address"})]}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{type:"submit",unelevated:!0,children:"Save"})]})]})]})})),hn=Pt({allowDuplicateEmails:ct}),pn=Object(l.b)(hn)((function(e){var t=e.allowDuplicateEmails,n=Object(i.useState)(!1),r=Object(v.a)(n,2),a=r[0],c=r[1];return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsxs)(Mt.a,{className:un.a.wrapper,children:[t?Object(Wt.jsxs)("div",{children:[Object(Wt.jsx)(Bt.a,{use:"headline6",tag:"div",theme:"textPrimaryOnBackground",children:"Multiple accounts per email address"}),Object(Wt.jsxs)(Bt.a,{use:"body2",theme:"textPrimaryOnBackground",children:["Allowing users to create multiple accounts for authentication providers that use the same email address."," ",Object(Wt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://support.google.com/firebase/answer/6400716",children:"Learn more"})]})]}):Object(Wt.jsxs)("div",{children:[Object(Wt.jsx)(Bt.a,{use:"headline6",tag:"div",theme:"textPrimaryOnBackground",children:"One account per email address"}),Object(Wt.jsx)(Bt.a,{use:"body2",theme:"textPrimaryOnBackground",children:"Preventing users from creating multiple accounts using the same email address with different authentication providers."})]}),Object(Wt.jsx)("div",{children:Object(Wt.jsx)(on.a,{outlined:!0,onClick:function(){return c(!0)},children:"Change"})})]}),a&&Object(Wt.jsx)(On,{onClose:function(){return c(!1)}})]})})),vn={background:"#f3e5f5",primary:b,primaryRgb:"104, 29, 168",textIconOnBackground:b,textPrimaryOnBackground:b,textSecondaryOnBackground:"rgba(".concat(b,", 0.7)")},mn="#00796b",xn="#00695c",gn={background:"#e0f2f1",primary:mn,primaryRgb:"0, 121, 107",textIconOnBackground:mn,textPrimaryOnBackground:xn,textSecondaryOnBackground:"rgba(".concat(xn,", 0.7)")},yn="#476282",wn="#1b3a57",Cn={background:"#e5eaf0",primary:yn,primaryRgb:"71, 98, 130",textIconOnBackground:yn,textPrimaryOnBackground:wn,textSecondaryOnBackground:"rgba(".concat(wn,", 0.7)")},Nn="#ff8f00",En="#bf360c",Sn={background:"#fff3e0",primary:Nn,primaryRgb:"255, 143, 0",onPrimary:"white",textIconOnBackground:Nn,textPrimaryOnBackground:En,textSecondaryOnBackground:"rgba(".concat(En,", 0.7)")},kn="#d32f2f",Rn="#c62828",An={background:"#fbe9e7",primary:kn,primaryRgb:"211, 47, 47",textIconOnBackground:kn,textPrimaryOnBackground:Rn,textSecondaryOnBackground:"rgba(".concat(Rn,", 0.7)")};!function(e){e.CAUTION="caution",e.NOTE="note",e.SUCCESS="success",e.TIP="tip",e.WARNING="warning"}(en||(en={}));var _n,Dn=(Xt={},Object(R.a)(Xt,en.CAUTION,Sn),Object(R.a)(Xt,en.NOTE,Cn),Object(R.a)(Xt,en.SUCCESS,gn),Object(R.a)(Xt,en.TIP,vn),Object(R.a)(Xt,en.WARNING,An),Xt),In=function(e){var t=e.use,n=e.wrap,r=e.children;return Object(Wt.jsx)(c.b,{options:Dn[t],wrap:n,children:r})},Tn=(n(285),_n={},Object(R.a)(_n,en.CAUTION,"error"),Object(R.a)(_n,en.NOTE,"info"),Object(R.a)(_n,en.SUCCESS,"check_circle"),Object(R.a)(_n,en.TIP,"star"),Object(R.a)(_n,en.WARNING,"warning"),_n),Un=function(e){var t=e.children,n=e.actions,r=e.icon,a=e.aside,i=e.type,o=void 0===i?en.NOTE:i,s=r||Tn[o],u=a?" Callout-aside":"",l="Callout Callout-".concat(o).concat(u);return Object(Wt.jsx)(In,{use:o,wrap:!0,children:Object(Wt.jsxs)(c.a,{className:l,use:a?[]:["onPrimary","primaryBg"],tag:"div",children:[Object(Wt.jsx)("div",{className:"Callout-body",children:Object(Wt.jsxs)("div",{className:"Callout-message",children:[s&&Object(Wt.jsx)(qt.a,{icon:s,"aria-hidden":"true",className:"Callout-icon"}),Object(Wt.jsx)(Bt.a,{use:"subtitle2",children:t})]})}),Object(Wt.jsx)(c.b,{wrap:!0,options:a?{}:{primary:"#fff"},children:Object(Wt.jsx)("div",{className:"Callout-actions",children:n})})]})})},Ln=Object(h.b)(),Fn=Ln.dialogs,Pn=(Ln.alert,Ln.confirm),Mn=(Ln.prompt,n(227)),Bn=n.n(Mn),Vn=Pt({hasUsers:rt}),qn=Object(l.b)(Vn,(function(e){return{clearAllData:function(){return e(ge())}}}))((function(e){var t=e.hasUsers,n=e.clearAllData;return Object(Wt.jsx)(Wt.Fragment,{children:t&&Object(Wt.jsx)("div",{className:Bn.a.clearAllButton,children:Object(Wt.jsx)(In,{use:"warning",wrap:!0,children:Object(Wt.jsx)(on.a,{unelevated:!0,onClick:Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pn({title:"Clear all data",body:Object(Wt.jsx)("div",{className:"Firestore--dialog-body",children:Object(Wt.jsx)(Un,{aside:!0,type:"warning",children:"This will delete all users"})}),acceptLabel:null,cancelLabel:null,footer:Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})});case 2:if(!e.sent){e.next=4;break}n();case 4:case"end":return e.stop()}}),e)}))),children:"Clear all data"})})})})})),Wn=n(34),zn=(n(203),n(226)),Hn=n(241),Gn=n(76),Jn=function(e){var t=e.fieldClassName,n=e.label,r=(e.fullwidth,e.outlined,e.tip),a=e.error,c=Object(Vt.a)(e,["fieldClassName","label","fullwidth","outlined","tip","error"]),o=Object(i.useState)(Object(zn.a)("field")),s=Object(v.a)(o,1)[0],u=Object(i.useState)(Object(zn.a)("field-subtext")),l=Object(v.a)(u,1)[0];return Object(Wt.jsxs)("div",{className:an()("Field",t),children:[Object(Wt.jsx)(Bt.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:s,children:n}),Object(Wt.jsx)(Gn.a,Object(N.a)(Object(N.a)({outlined:!0,"aria-describedby":l,invalid:!!a,"aria-invalid":!!a},c),{},{tag:"div",id:s})),Object(Wt.jsx)("div",{className:"Field-subtext",id:l,children:a?Object(Wt.jsx)(Bt.a,{className:"Field-tip",role:"alert",use:"body2",theme:"error",children:a}):r&&Object(Wt.jsx)(Bt.a,{className:"Field-tip",use:"body2",theme:"secondary",children:r})})]})},Kn=function(e){var t=e.fieldClassName,n=e.label,r=(e.outlined,e.tip),a=(e.theme,e.error),c=Object(Vt.a)(e,["fieldClassName","label","outlined","tip","theme","error"]),o=Object(i.useState)(Object(zn.a)()),s=Object(v.a)(o,1)[0];return Object(Wt.jsxs)("div",{className:an()("Field",t),children:[Object(Wt.jsx)(Bt.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:s,children:n}),Object(Wt.jsx)(Hn.a,Object(N.a)(Object(N.a)({outlined:!0},c),{},{id:s})),Object(Wt.jsx)("div",{className:"Field-subtext",children:a?Object(Wt.jsx)(Bt.a,{className:"Field-tip",use:"body2",theme:"error",children:a}):r&&Object(Wt.jsx)(Bt.a,{className:"Field-tip",use:"body2",theme:"secondary",children:r})})]})},Qn=n(71),Zn=n.n(Qn);function Yn(e,t){if(!e)throw new Error(t)}var $n=Error;function Xn(e){var t;Yn(e.length<=1e3,"CLAIMS_TOO_LARGE");try{t=JSON.parse(e)}catch(n){throw new $n("INVALID_CLAIMS")}!function(e){Yn("object"===typeof e&&null!=e&&!Array.isArray(e),"INVALID_CLAIMS");var t=!0,n=!1,r=void 0;try{for(var a,c=er[Symbol.iterator]();!(t=(a=c.next()).done);t=!0){var i=a.value;Yn(!(i in e),"FORBIDDEN_CLAIM : ".concat(i))}}catch(o){n=!0,r=o}finally{try{t||null==c.return||c.return()}finally{if(n)throw r}}}(t)}var er=["iss","aud","sub","iat","exp","nbf","jti","nonce","azp","acr","amr","cnf","auth_time","firebase","at_hash","c_hash"];function tr(e){if(""===e)return!0;try{return Xn(e),!0}catch(n){if("INVALID_CLAIMS"===n.message)return"Custom claims must be a valid JSON object";if("CLAIMS_TOO_LARGE"===n.message)return"Custom claims length must not exceed 1000 characters";var t=n.message.match(/FORBIDDEN_CLAIM : (\w+)$/);if(t&&t[1])return"Custom claims must not have forbidden key: "+t[1]}}var nr,rr="customAttributes",ar=function(e){var t,n=e.errors,r=e.register,a=Object(Wt.jsx)("label",{children:Object(Wt.jsx)(Bt.a,{use:"subtitle2",tag:"div",theme:"textPrimaryOnBackground",children:"Custom Claims (optional)"})});return Object(Wt.jsxs)("div",{className:Zn.a.customAttributesWrapper,children:[Object(Wt.jsx)(Jn,{inputRef:r({validate:tr}),error:null===(t=n.customAttributes)||void 0===t?void 0:t.message,name:rr,label:a,textarea:!0,placeholder:'Enter valid json, e.g. {"role":"admin"}'}),Object(Wt.jsxs)(Bt.a,{use:"body2",children:["These custom key:value attributes can be used with Rules to implement various access control strategies (e.g. based on roles)"," ",Object(Wt.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:"https://firebase.google.com/docs/auth/admin/custom-claims",children:"Learn more"})]})]})},cr=n(181),ir=n.n(cr);!function(e){e.NONE="NONE",e.LOADING="LOADING",e.LOADED="LOADED",e.ERROR="ERROR"}(nr||(nr={}));var or=function(e){var t=e.register,n=e.watch,r=e.triggerValidation,a=e.ImageConstructor;a=a||Image;var c=Object(i.useState)(""),o=Object(v.a)(c,2),s=o[0],u=o[1],l=Object(i.useRef)(new a),d=Object(i.useRef)(""),j=Object(i.useRef)(nr.NONE),b=n("photoUrl")||"";Object(i.useEffect)((function(){var e=l.current;return e.onload=function(){j.current===nr.LOADING&&(j.current=nr.LOADED,u(d.current),r("photoUrl"))},e.onerror=function(){j.current===nr.LOADING&&(j.current=nr.ERROR,u(""),r("photoUrl"))},function(){e.onload=null,e.onerror=null}}),[r]),Object(i.useEffect)((function(){""!==b.trim()?(j.current=nr.LOADING,d.current=b,l.current.src=b):j.current=nr.NONE,r("photoUrl")}),[b,r]);return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Jn,{name:"photoUrl",label:"User Photo URL (optional)",placeholder:"Enter URL",error:j.current===nr.ERROR&&"Error loading image",type:"text",inputRef:t({validate:function(){return j.current===nr.LOADED||j.current===nr.NONE}})}),j.current===nr.LOADED&&Object(Wt.jsx)("img",{className:ir.a.image,src:s,alt:"Profile preview"}),j.current===nr.LOADING&&Object(Wt.jsx)("div",{className:ir.a.imageWrapper,"aria-busy":"true","aria-live":"polite","data-testid":"spinner",children:Object(Wt.jsx)(nn.a,{size:"large"})})]})},sr=n(403),ur=/^[^@]+@[^@]+$/;function lr(e){if(e.email){if("pattern"===e.email.type)return"Invalid email";if("validate"===e.email.type)return"User with this email already exists"}return e.emailpassword?"Both email and password should be present":e.password?"Password should be at least ".concat(6," characters"):void 0}var dr=Pt({allEmails:tt,isEditing:$e}),jr=Object(l.b)(dr)((function(e){var t=e.register,n=e.watch,r=e.setError,a=e.clearError,c=e.errors,o=e.allEmails,s=e.editedUserEmail,u=e.isEditing,l=n("email"),d=n("password");return Object(i.useEffect)((function(){""===l&&""===d||""!==l&&(""!==d||u)?a("emailpassword"):r("emailpassword","both")}),[l,d,a,r,u]),Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Bt.a,{use:"body1",tag:"div",className:Zn.a.authKindLabel,theme:"textPrimaryOnBackground",children:"Email authentication"}),Object(Wt.jsxs)("div",{className:Zn.a.emailWrapper,children:[Object(Wt.jsx)(Jn,{name:"email",placeholder:"Enter email",label:"Email",type:"text",inputRef:t({validate:function(e){return e===s||!o.has(e)},pattern:ur})}),Object(Wt.jsx)(Jn,{name:"password",type:"text",label:"Password",placeholder:"Enter password",inputRef:t({minLength:6})})]}),Object(Wt.jsx)(Bt.a,{className:Zn.a.error,use:"body2",role:"alert",theme:"error",children:lr(c)})]})})),br=/^\+/,fr=Pt({allPhoneNumbers:nt}),Or=Object(l.b)(fr)((function(e){var t=e.register,n=e.errors,r=e.allPhoneNumbers,a=e.editedUserPhoneNumber;return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Bt.a,{use:"body1",tag:"div",className:Zn.a.authKindLabel,theme:"textPrimaryOnBackground",children:"Phone authentication"}),Object(Wt.jsx)(Jn,{name:"phoneNumber",label:"Phone",placeholder:"Enter phone number",type:"tel",error:function(){if(n.phoneNumber){if("pattern"===n.phoneNumber.type)return'Phone number must be in international format and start with a "+"';if("validate"===n.phoneNumber.type)return"User with this phone number already exists"}}(),inputRef:t({pattern:br,validate:function(e){return a===e||!r.has(e)}})})]})})),hr="atLeastOneMethodRequired",pr=function(e){var t=e.watch,n=e.setError,r=e.clearError,a=e.formState,c=e.errors,o=e.user,s=t("email"),u=t("password"),l=t("phoneNumber");Object(i.useEffect)((function(){""!==s||!!l?r(hr):n(hr)}),[s,u,r,n,l,c]);var d=a.touched.email||a.touched.phoneNumber,j=hr in c&&1===Object.values(c).length;return Object(Wt.jsxs)("div",{className:Zn.a.signInWrapper,children:[Object(Wt.jsx)(sr.a,{tag:"div"}),Object(Wt.jsxs)("div",{className:Zn.a.signInHeader,children:[Object(Wt.jsx)(Bt.a,{use:"body1",theme:"textPrimaryOnBackground",children:"Authentication method"}),d&&j?Object(Wt.jsx)(Bt.a,{use:"body2",theme:"error",tag:"div",role:"alert",children:"One method is required. Please enter either an email/password or phone number."}):Object(Wt.jsx)(Bt.a,{use:"body2",tag:"div",children:"Enter details for at least one of the following methods:"})]}),Object(Wt.jsx)(jr,Object(N.a)(Object(N.a)({},e),{},{editedUserEmail:null===o||void 0===o?void 0:o.email})),Object(Wt.jsx)(Or,Object(N.a)(Object(N.a)({},e),{},{editedUserPhoneNumber:null===o||void 0===o?void 0:o.phoneNumber}))]})},vr=Pt({authUserDialogData:Ze,user:Ye}),mr=Object(l.b)(vr,(function(e){return{clearAuthUserDialogData:function(){return e(De())},updateUser:function(t){return e(fe(t))},createUser:function(t){return e(je(t))}}}))((function(e){var t=e.authUserDialogData,n=e.clearAuthUserDialogData,r=e.updateUser,a=e.createUser,c=e.user,o=!!c,s=null===c||void 0===c?void 0:c.localId,u=Object(Wn.d)({defaultValues:c,mode:"onChange"}),l=Object(i.useCallback)((function(e,t){o?r({user:e,localId:s}):a({user:e,keepDialogOpen:t})}),[o,r,a,s]),d=u.register,j=u.handleSubmit,b=u.formState,f=u.reset,O=u.errors,h=!(null===t||void 0===t?void 0:t.loading)&&b.isValid,p=Object(i.useCallback)((function(e){0===Object.values(O).length&&l(e)}),[O,l]);return Object(Wt.jsxs)(ln.a,{renderToPortal:!0,open:!0,onClose:n,children:[Object(Wt.jsx)(ln.e,{children:c?"Edit User ".concat(c.displayName):"Add a user"}),Object(Wt.jsxs)("form",{onSubmit:j(p),"data-testid":"user-form",children:[Object(Wt.jsxs)(ln.d,{children:[Object(Wt.jsx)(Jn,{name:"displayName",label:"Display name (optional)",type:"text",placeholder:"Enter display name",error:(null===O||void 0===O?void 0:O.displayName)&&"Display name is required",inputRef:d({})}),Object(Wt.jsx)(or,Object(N.a)({},u)),Object(Wt.jsx)(ar,Object(N.a)({},u)),Object(Wt.jsx)(pr,Object(N.a)(Object(N.a)({},u),{},{user:c})),Object(de.e)(null===t||void 0===t?void 0:t.result)&&Object(Wt.jsxs)(Un,{type:"warning",children:["Error: ",null===t||void 0===t?void 0:t.result.error]})]}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),!o&&Object(Wt.jsx)(on.a,{onClick:j((function(e){l(e,!0),f(c)})),disabled:!h,type:"button",children:"Save and create another"}),Object(Wt.jsx)(ln.c,{disabled:!h,type:"submit",unelevated:!0,children:"Save"})]})]})]})})),xr=(n(286),function(e){var t=e.className,n=e.children;return Object(Wt.jsx)(c.b,{options:{surface:f},className:an()("CardActionBar",t),children:Object(Wt.jsx)(c.a,{use:["surface"],className:"CardActionBar-container",tag:"div",children:n})})}),gr=function(e){var t=e.children;return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)("span",{style:{flex:"1 auto"}}),Object(Wt.jsx)("div",{className:"CardActionBar-actions",children:t})]})},yr=n(120),wr=n.n(yr),Cr=n(182),Nr=n.n(Cr),Er=Pt({filter:at}),Sr=Object(l.b)(Er,(function(e){return{updateFilter:function(t){return e(xe(t))}}}))((function(e){var t=e.filter,n=e.updateFilter,r=function(){return n({filter:""})},a=Object(i.useRef)(null);return Object(i.useLayoutEffect)((function(){var e;""===t&&(null===(e=a.current)||void 0===e||e.focus())}),[t]),Object(Wt.jsx)(Wt.Fragment,{children:Object(Wt.jsx)("form",{role:"search",className:Nr.a.filterForm,onSubmit:function(e){e.preventDefault()},children:Object(Wt.jsx)(Gn.a,{onChange:function(e){n({filter:e.target.value})},placeholder:"Search by user UID, email address, phone number, or display name",value:t,"aria-label":"filter",fullwidth:!0,type:"text",inputRef:a,outlined:!1,ripple:!1,icon:"search",className:Nr.a.filterTextField,trailingIcon:t&&{icon:"close",role:"button","aria-label":"clear",onClick:r,onKeyDown:function(e){e.keyCode!==wr()("spacebar")&&e.keyCode!==wr()("enter")||(r(),e.preventDefault())}}})})})})),kr=n(183),Rr=n.n(kr),Ar=n(22),_r=Object(l.b)(null,(function(e){return{refresh:function(){return e(we())}}}))((function(e){var t=e.refresh;return Object(Wt.jsx)(Ar.a,{onClick:t,icon:"refresh",label:"Refresh",theme:"secondary"})})),Dr=function(e){var t=e.onOpenNewUserDialog;return Object(Wt.jsx)(Wt.Fragment,{children:Object(Wt.jsxs)(xr,{children:[Object(Wt.jsx)(Sr,{}),Object(Wt.jsx)("div",{className:Rr.a.barActions,children:Object(Wt.jsxs)(gr,{children:[Object(Wt.jsx)(_r,{}),Object(Wt.jsx)(on.a,{className:Rr.a.addUserButton,unelevated:!0,onClick:function(){return t()},children:"Add user"})]})})]})})},Ir=n(32),Tr=n(414),Ur=n(94),Lr=n.n(Ur),Fr=function(){return Object(Wt.jsx)(Bt.a,{use:"body2",className:Lr.a.noResultsWrapper,theme:"textSecondaryOnBackground",children:"No users for this project yet"})},Pr=function(e){return Pn({title:"Delete user",body:Object(Wt.jsx)("div",{className:"Firestore--dialog-body",children:Object(Wt.jsxs)(Un,{aside:!0,type:"warning",children:["This will delete user with uid ",e.localId]})}),acceptLabel:null,cancelLabel:null,footer:Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})})},Mr=function(){return Object(Wt.jsx)(Bt.a,{use:"body2","aria-live":"polite",theme:"textSecondaryOnBackground",className:Lr.a.noResultsWrapper,children:"No results"})},Br={"gc.apple.com":"assets/provider-icons/auth_service_game_center.svg","apple.com":"assets/provider-icons/auth_service_apple.svg","facebook.com":"assets/provider-icons/auth_service_facebook.svg","github.com":"assets/provider-icons/auth_service_github.svg","google.com":"assets/provider-icons/auth_service_google.svg","microsoft.com":"assets/provider-icons/auth_service_mslive.svg","playgames.google.com":"assets/provider-icons/auth_service_play_games.svg","twitter.com":"assets/provider-icons/auth_service_twitter.svg","yahoo.com":"assets/provider-icons/auth_service_yahoo.svg",phone:"assets/provider-icons/auth_service_phone.svg",password:"assets/provider-icons/auth_service_email.svg"},Vr=n(228),qr=n.n(Vr),Wr=function(e){var t=e.user;return Object(Wt.jsx)(c.a,{use:"secondary",children:Object(Wt.jsx)("div",{className:qr.a.iconWrapper,children:t.providerUserInfo.map((function(e){return Br[e.providerId]&&Object(Wt.jsx)(qt.a,{icon:Br[e.providerId],"aria-label":e.providerId},e.providerId)}))})})},zr=function(e){var t=e.user,n=e.onEditUser,r=e.toggleUserDisabled,a=e.onDeleteUser,c=Object(i.useState)(!1),o=Object(v.a)(c,2),s=o[0],u=o[1],l=new Date(Number(t.createdAt)).toLocaleDateString(),d=t.lastLoginAt&&new Date(Number(t.lastLoginAt)).toLocaleDateString();return Object(Wt.jsxs)(Ir.g,{className:t.disabled?Lr.a.disabled:"",children:[Object(Wt.jsx)(Ir.c,{children:t.displayName||t.email||t.phoneNumber}),Object(Wt.jsx)(Ir.c,{children:Object(Wt.jsx)(Wr,{user:t})}),Object(Wt.jsx)(Ir.c,{children:l}),Object(Wt.jsx)(Ir.c,{children:d}),Object(Wt.jsx)(Ir.c,{children:t.localId}),Object(Wt.jsx)(Ir.c,{style:{width:"20px"},children:Object(Wt.jsxs)(Tr.b,{open:s,onOpen:function(){return u(!0)},onClose:function(){return u(!1)},handle:Object(Wt.jsx)(Ar.a,{theme:"secondary",icon:"more_vert",label:"Open menu"}),renderToPortal:!0,children:[Object(Wt.jsx)(Tr.a,{onClick:function(){u(!1),n()},children:"Edit user"}),Object(Wt.jsx)(Tr.a,{onClick:function(){u(!1),r()},children:t.disabled?"Enable user":"Disable user"}),Object(Wt.jsx)(Tr.a,{onClick:function(){u(!1),a()},children:"Delete user"})]})})]})},Hr=Pt({shouldShowTable:ut,shouldShowZeroResults:st,shouldShowZeroState:ot,filteredUsers:it}),Gr=Object(l.b)(Hr,(function(e){return{setUserDisabled:function(t){return e(he(t))},deleteUser:function(t){return e(ve(t))},openAuthUserDialog:function(t){return e(Re(t))}}}))((function(e){var t=e.filteredUsers,n=e.setUserDisabled,r=e.deleteUser,a=e.shouldShowTable,c=e.openAuthUserDialog,i=e.shouldShowZeroResults,o=e.shouldShowZeroState;return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Ir.a,{className:Lr.a.tableWrapper,children:Object(Wt.jsxs)(Ir.d,{children:[Object(Wt.jsx)(Ir.e,{children:Object(Wt.jsxs)(Ir.g,{children:[Object(Wt.jsx)(Ir.f,{children:"Identifier"}),Object(Wt.jsx)(Ir.f,{children:"Provider"}),Object(Wt.jsx)(Ir.f,{children:"Created"}),Object(Wt.jsx)(Ir.f,{children:"Signed In"}),Object(Wt.jsx)(Ir.f,{children:"User UID"})]})}),Object(Wt.jsx)(Ir.b,{children:a&&t.map((function(e){return Object(Wt.jsx)(zr,{user:e,onEditUser:function(){c(Object(de.b)(e))},toggleUserDisabled:function(){n({localId:e.localId,disabled:!e.disabled})},onDeleteUser:Object(Te.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pr(e);case 2:if(!t.sent){t.next=4;break}r(e);case 4:case"end":return t.stop()}}),t)})))},e.localId)}))})]})}),i&&Object(Wt.jsx)(Mr,{}),o&&Object(Wt.jsx)(Fr,{})]})})),Jr=Pt({authUserDialogData:Ze}),Kr=Object(l.b)(Jr,(function(e){return{openAuthUserDialog:function(t){return e(Re(t))}}}))((function(e){var t=e.openAuthUserDialog,n=e.authUserDialogData;return Object(Wt.jsxs)(Mt.a,{children:[Object(Wt.jsx)(Dr,{onOpenNewUserDialog:function(){return t(Object(de.b)(void 0))}}),Object(Wt.jsx)(Gr,{}),n&&Object(Wt.jsx)(mr,{})]})})),Qr=Pt({projectIdResult:Je.e,authConfigResult:lt,authUsersResult:Xe}),Zr=function(){return Object(Wt.jsxs)(p.b,{span:12,className:"Auth",children:[Object(Wt.jsx)(qn,{}),Object(Wt.jsx)(m.a,{z:"2",wrap:!0,children:Object(Wt.jsx)(Kr,{})}),Object(Wt.jsx)(m.a,{z:"2",wrap:!0,children:Object(Wt.jsx)(pn,{})})]})},Yr=function(){return Object(Wt.jsx)(tn,{productName:"Auth"})},$r=Object(l.b)(Qr)((function(e){var t=e.projectIdResult,n=e.authConfigResult;return Object(de.c)(Object(de.a)(t,n),{onNone:function(){return Object(Wt.jsx)(cn,{span:12,message:"Auth Emulator Loading..."})},onError:function(){return Object(Wt.jsx)(Yr,{})},onData:function(e){var t=Object(v.a)(e,2);t[0];return void 0===t[1]?Object(Wt.jsx)(Yr,{}):Object(Wt.jsx)(Zr,{})}})})),Xr=(n(287),n(157)),ea=(n(288),n(230)),ta=n(78);function na(e,t){var n="http://".concat(e.hostAndPort,"/?ns=").concat(t),r=ta.a.initializeApp({databaseURL:n},"Database Component: ".concat(n," ").concat(Math.random()));ra(r);var a=r.database();return window.database||console.log("\ud83d\udd25 Realtime Database is available at window.database.\n\n    Try:\n    database.ref().set({hello: 'world!'});\n    database.ref().once('value').then( snap => console.log(snap.val()) );"),window.database=a,[a,{cleanup:function(){return r.delete()}}]}function ra(e){var t="owner",n=new ea.a("auth-internal",(function(){return{getToken:function(){var e=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{accessToken:t});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUid:function(){return null},addAuthTokenListener:function(e){e(t)},removeAuthTokenListener:function(){}}}),"PRIVATE");e._addOrOverwriteComponent(n)}n(289);var aa=n(232),ca=(n(290),[]),ia=function(e){var t=e.base,n=e.path,r=e.onEdit,a=e.children,c=n.startsWith("/")?n.substr(1):n,i=c?c.split("/"):ca,o=i.reduce((function(e,n){var r=e.length?e[e.length-1]:t;return e.push("".concat(r,"/").concat(n)),e}),[]);return Object(Wt.jsxs)("ul",{role:"navigation",className:"BreadCrumbs",children:[Object(Wt.jsx)("li",{className:"BreadCrumbs-crumb",children:Object(Wt.jsx)(Ar.a,{icon:"home",tag:d.b,to:t})}),i.map((function(e,t){return Object(Wt.jsx)("li",{className:an()("BreadCrumbs-crumb","BreadCrumbs-link",{"BreadCrumbs-active":t===i.length-1}),children:Object(Wt.jsx)(d.b,{to:o[t],children:decodeURIComponent(e)})},o[t])})),Object(Wt.jsx)("li",{className:"BreadCrumbs-edit","aria-label":"Edit URL",onClick:function(){return r&&r()},children:Object(Wt.jsx)(Ar.a,{icon:"edit"})}),Object(Wt.jsx)("li",{children:a})]})},oa=function(e){var t=e.onNavigate,n=e.children,r=e.inputPrefix,a=e.path,c=Object(Vt.a)(e,["onNavigate","children","inputPrefix","path"]),o=Object(i.useState)(!1),s=Object(v.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)(a),j=Object(v.a)(d,2),b=j[0],f=j[1];Object(i.useEffect)((function(){return f(a)}),[a]);var O=function(){l(!1),f(a)},h=Object(i.useRef)(null);return Object(aa.a)(["Escape"],O,{eventTypes:["keypress","keydown","keyup"],target:h,when:!0}),Object(i.useLayoutEffect)((function(){h.current&&h.current.select()}),[u,h]),Object(Wt.jsx)("div",{className:"InteractiveBreadCrumbBar",children:u?Object(Wt.jsx)(m.a,{z:1,wrap:!0,children:Object(Wt.jsxs)("form",{className:"InteractiveBreadCrumbBar-form",onSubmit:function(){return function(){var e=b.startsWith("/")?b.substr(1):b;t(e),l(!1)}()},children:[r&&Object(Wt.jsx)(Bt.a,{use:"body2",className:"InteractiveBreadCrumbBar-prefix",theme:"secondary",children:r}),Object(Wt.jsx)(Gn.a,{"aria-label":"Document path",fullwidth:!0,className:"value",type:"text",value:b,onChange:function(e){return f(e.currentTarget.value)},inputRef:h}),Object(Wt.jsx)(Ar.a,{label:"Cancel",type:"button",icon:"close",onClick:O,theme:"secondary"})]})}):Object(Wt.jsx)(xr,{className:"top",children:Object(Wt.jsx)(ia,Object(N.a)(Object(N.a)({path:a},c),{},{onEdit:function(){l(!0)},children:n}))})})};var sa=function(e){Object(Le.a)(n,e);var t=function(e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}return function(){var n,r=Object(Pe.a)(e);if(t()){var a=Object(Pe.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(Fe.a)(this,n)}}(n);function n(e,r){var a;Object(T.a)(this,n),(a=t.call(this)).namespace=r,a.baseUrl=void 0,a.cleanup=void 0,a.database=void 0;var c=na(e,a.namespace),i=Object(v.a)(c,2),o=i[0],s=i[1].cleanup;return a.database=o,a.cleanup=s,a.baseUrl="http://".concat(e.hostAndPort),a}return Object(Ue.a)(n,[{key:"delete",value:function(){return this.cleanup()}},{key:"importFile",value:function(){var e=Object(Te.a)(g.a.mark((function e(t,n){var r,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({ns:this.namespace,access_token:"owner"}),a=ua(t)+"?".concat(r.toString()),e.next=4,this.postFile("".concat(this.baseUrl,"/").concat(a),n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(Ve);function ua(e){var t=new URL(e.toString()).pathname.replace(/^\//,"").replace(/\/$/,"");return""!==t&&(t+="/"),t+=".upload"}n(292);var la,da=function(e){var t=e.label,n=e.tip,r=e.error,a=e.onFiles,c=e.value,o=e.accept,s=Object(i.useState)(Object(zn.a)()),u=Object(v.a)(s,1)[0],l=Object(Xr.a)({onDrop:a,accept:o}),d=l.isDragActive,j=l.getRootProps,b=l.getInputProps,f=l.isDragReject;return Object(Wt.jsxs)("div",{className:"Field",children:[Object(Wt.jsx)(Bt.a,{className:"Field-label",use:"body2",theme:"secondary",tag:"label",htmlFor:u,children:t}),Object(Wt.jsxs)("div",Object(N.a)(Object(N.a)({className:"Field-filename"},j()),{},{"data-testid":"dropzone",children:[Object(Wt.jsx)("input",Object(N.a)({},b({id:u}))),Object(Wt.jsx)(Bt.a,{use:"body2",theme:"secondary",children:d?f?"File type is not accepted":"Drop file(s) here":c}),Object(Wt.jsx)(on.a,{type:"button",children:"Browse"})]})),Object(Wt.jsx)("div",{className:"Field-subtext",children:r?Object(Wt.jsx)(Bt.a,{className:"Field-tip",use:"body2",theme:"error",role:"alert",children:r}):n&&Object(Wt.jsx)(Bt.a,{className:"Field-tip",use:"body2",theme:"secondary",children:n})})]})},ja=n(233),ba=n.n(ja),fa=function(e){var t=e.api,n=e.reference,r=e.onComplete,a=e.droppedFile,c=Object(i.useState)(a),o=Object(v.a)(c,2),s=o[0],u=o[1],l=Object(i.useState)(!1),d=Object(v.a)(l,2),j=d[0],b=d[1],f=Object(i.useState)(),O=Object(v.a)(f,2),h=O[0],p=O[1],m=function(){var e=Object(Te.a)(g.a.mark((function e(a){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),!s){e.next=13;break}return e.prev=2,b(!0),e.next=6,t.importFile(n,s);case 6:r(n,s),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),p(e.t0.message);case 12:b(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),x=new URL(n.toString()).pathname;return Object(Wt.jsxs)(ln.a,{renderToPortal:!0,open:!0,onClose:function(){return r()},children:[Object(Wt.jsxs)("form",{onSubmit:m,className:ba.a.container,children:[Object(Wt.jsx)(ln.e,{children:"Import JSON"}),Object(Wt.jsxs)(ln.d,{onSubmit:m,children:[Object(Wt.jsx)(Un,{aside:!0,type:"warning",children:"All data at this location will be overwritten"}),Object(Wt.jsx)(Un,{aside:!0,type:"caution",children:"If the Functions emulator is running, database functions will be executed."}),Object(Wt.jsx)(Jn,{disabled:!0,name:"location",label:"Data location",value:x,type:"text"}),Object(Wt.jsx)(da,{name:"file",accept:"application/json",label:"Data (JSON)",required:!0,value:(null===s||void 0===s?void 0:s.name)||"Drop a file, or click to select",onFiles:function(e){return u(e[0])},error:h})]}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{type:"submit",unelevated:!0,children:"Import"})]})]}),j&&Object(Wt.jsx)(cn,{cover:!0,scrim:!0,message:"Importing..."})]})},Oa=n(242),ha=n(406),pa=n(234),va=n(107),ma=n(36),xa=n(404),ga=n(405),ya=n(407),wa=n(408),Ca=n(409),Na=n(153),Ea=50,Sa={limit:Ea};function ka(e){try{return JSON.parse(e)}catch(t){return e}}function Ra(e){return e.database.app.options.databaseURL}!function(e){e.Table="table",e.TreeView="tree"}(la||(la={}));var Aa=[],_a={Authorization:"Bearer owner"};function Da(e,t){var n=new Oa.a(1);n.next({limit:Ea});var r=n.pipe(Object(xa.a)((function(n){return t.pipe(Object(ga.a)((function(t){return t?function(e,t){var n;return function(e){return Object(va.a)(e.once("value"))}(e).pipe(Object(xa.a)((function(r){return r.hasChildren()?Ia(n=Ta(e,t)):Ia(e)})),Object(Na.a)((function(e){return{value:e.hasChildren()?void 0:e.val(),children:e.hasChildren()?Object.keys(e.val()):Aa,isRealtime:!0,isLoading:!1,query:n}})))}(e,n):function(e,t){return function(e,t){var n=function(e){var t=e.key,n=e.operator,r=e.value,a=e.limit,c={orderBy:t,limitToFirst:"".concat(a||Ea)};if(t&&n&&r)switch(n){case"==":c.equalTo=r;break;case"<=":c.endAt=r;break;case">=":c.startAt=r}return c}(t),r=Ua(e,Object(N.a)(Object(N.a)({},n),{},{shallow:"true"}));return Object(ha.a)((function(){return fetch(r,{headers:_a})})).pipe(Object(Na.a)((function(e){return e.json()})),Object(Na.a)((function(e){return Object.keys(e)})))}(e,t).pipe(Object(Na.a)((function(e){return{children:e,isLoading:!1,isRealtime:!1}})))}(e,n)})))})));return{query:n,viewModel$:r}}function Ia(e){return new ma.a((function(t){var n=e.on("value",(function(e){return t.next(e)}));return function(){return e.off("value",n)}}))}function Ta(e,t){var n=t.key,r=t.operator,a=t.value,c=t.limit;if(null!=n&&null!=r&&null!=a){var i=e.orderByChild(n).limitToFirst(c||Ea);switch(r){case"==":return i.equalTo(a);case"<=":return i.endAt(a);case">=":return i.startAt(a)}}return e.limitToFirst(c||Ea)}function Ua(e,t){var n=Ra(e);if(n.indexOf("?ns=")>=0){var r=n.split("?ns=")[1];t=Object(N.a)(Object(N.a)({},t),{},{ns:r})}var a=Object.entries(t).filter((function(e){var t=Object(v.a)(e,2);t[0];return!!t[1]})).map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(encodeURIComponent(r))})).join("&");return"".concat(e.toString(),".json?").concat(a)}n(293);var La=n(88),Fa=(n(294),n(411)),Pa=(n(295),Object(k.createAction)("@document/addToMap")()),Ma=Object(k.createAction)("@document/addToArray")(),Ba=Object(k.createAction)("@document/removeFromMap")(),Va=Object(k.createAction)("@document/removeFromArray")(),qa=Object(k.createAction)("@document/updateName")(),Wa=Object(k.createAction)("@document/updateType")(),za=Object(k.createAction)("@document/updateValue")(),Ha=function(e){var t=e.value,n=e.onChange;return Object(Wt.jsx)(Kn,{label:"Value",value:t.toString(),options:["true","false"],onChange:function(e){n("true"===e.currentTarget.value)}})},Ga=function(e){var t,n,r=e.name,a=e.value,c=e.onChange,o=Object(i.useState)(String(a.latitude)),s=Object(v.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)(String(a.longitude)),j=Object(v.a)(d,2),b=j[0],f=j[1],O=Object(Wn.e)(),h=O.errors,p=O.formState.touched,m=O.register,x=O.unregister,g=O.setValue,y="".concat(r,"-lat"),w="".concat(r,"-long");return Object(i.useEffect)((function(){return m(y,{required:"Required",min:{value:-90,message:"Must be >= -90"},max:{value:90,message:"Must be <= -90"}}),m(w,{required:"Required",min:{value:-180,message:"Must be >= -180"},max:{value:180,message:"Must be <= -180"}}),function(){return x([y,w])}}),[m,x,y,w]),Object(i.useEffect)((function(){var e=Number(u),t=Number(b);if(a.latitude!==e||a.longitude!==t)try{var n=new A.a.firestore.GeoPoint(e,t);c(n)}catch(r){}}),[a,u,b,c]),Object(Wt.jsxs)("div",{className:"FieldEditor-geo-point",children:[Object(Wt.jsx)(Jn,{label:"Latitude",type:"number",step:"any",defaultValue:u,onChange:function(e){g(y,e.currentTarget.value,!0),l(e.currentTarget.value)},error:p[y]&&(null===(t=h[y])||void 0===t?void 0:t.message)}),Object(Wt.jsx)(Jn,{label:"Longitude",type:"number",step:"any",defaultValue:b,onChange:function(e){g(w,e.currentTarget.value,!0),f(e.currentTarget.value)},error:p[w]&&(null===(n=h[w])||void 0===n?void 0:n.message)})]})},Ja=function(e){var t,n=e.value,r=e.onChange,a=e.name,c=Object(i.useState)(JSON.stringify(n)),o=Object(v.a)(c,1)[0],s=Object(Wn.e)(),u=s.errors,l=s.formState.touched,d=s.register,j=s.unregister,b=s.setValue,f=s.triggerValidation;function O(){return(O=Object(Te.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(a);case 2:if(!e.sent){e.next=4;break}r(JSON.parse(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return d(a,{validate:function(e){try{return JSON.parse(e),!0}catch(t){return"Must be valid JSON"}}}),function(){return j(a)}}),[d,j,a]),Object(Wt.jsx)(Jn,{label:"JSON",defaultValue:o,onChange:function(e){b(a,e.currentTarget.value),function(e){O.apply(this,arguments)}(e.currentTarget.value)},error:l[a]&&(null===(t=u[a])||void 0===t?void 0:t.message)})},Ka=function(e){var t,n=e.value,r=e.onChange,a=e.name,c=Object(Wn.e)(),o=c.errors,s=c.formState.touched,u=c.register,l=c.unregister,d=c.setValue,j=c.triggerValidation;function b(){return(b=Object(Te.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(a);case 2:if(!e.sent){e.next=4;break}r(parseFloat(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return u(a,{required:"Required",pattern:{value:F,message:"Must be a number"}}),function(){return l(a)}}),[u,l,a]),Object(Wt.jsx)(Jn,{label:"Value",defaultValue:n,onChange:function(e){d(a,e.currentTarget.value),function(e){b.apply(this,arguments)}(e.currentTarget.value)},error:s[a]&&(null===(t=o[a])||void 0===t?void 0:t.message)})},Qa=n(49),Za=function(e){var t,n=e.value,r=e.onChange,a=e.name,c=Object(i.useState)(n.path),o=Object(v.a)(c,1)[0],s=Object(Qa.d)(),u=Object(Wn.e)(),l=u.errors,d=u.formState.touched,j=u.register,b=u.unregister,f=u.setValue,O=u.triggerValidation;function h(){return(h=Object(Te.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(a);case 2:if(!e.sent){e.next=4;break}r(new Z(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(i.useEffect)((function(){return j(a,{validate:function(e){try{return s.doc(e),!0}catch(t){return"Must point to a document"}}}),function(){return b(a)}}),[j,b,a,s]),Object(Wt.jsx)(Jn,{label:"Document path",defaultValue:o,onChange:function(e){f(a,e.currentTarget.value),function(e){h.apply(this,arguments)}(e.currentTarget.value)},error:d[a]&&(null===(t=l[a])||void 0===t?void 0:t.message)})},Ya=i.createContext({store:{fields:{}},dispatch:function(){}}),$a=Object(k.createReducer)({fields:{}}).handleAction(Pa,Object(S.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];re(r);var a=oe(n.value);ne(a),e.fields=Object(N.a)(Object(N.a)({},e.fields),a.fields),r.mapChildren.push({uuid:ie(),name:n.name,valueId:a.uuid})}))).handleAction(Ma,Object(S.a)((function(e,t){var n=t.payload;ae(e.fields[n.uuid]);var r=oe(n.value);ne(r),e.fields=Object(N.a)(Object(N.a)({},e.fields),r.fields),e.fields[n.uuid].arrayChildren.push({uuid:ie(),valueId:r.uuid})}))).handleAction(Ba,Object(S.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];re(r);var a=r.mapChildren.find((function(e){return e.uuid===n.childId}));if(!a)throw new Error("No map-child found with given ID");var c=!0,i=!1,o=void 0;try{for(var s,u=le(e.fields,[a.valueId])[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value;delete e.fields[l]}}catch(d){i=!0,o=d}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}r.mapChildren=r.mapChildren.filter((function(e){return e.uuid!==n.childId}))}))).handleAction(Va,Object(S.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];ae(r);var a=r.arrayChildren.find((function(e){return e.uuid===n.childId}));if(!a)throw new Error("No array-child found with given ID");var c=!0,i=!1,o=void 0;try{for(var s,u=le(e.fields,[a.valueId])[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value;delete e.fields[l]}}catch(d){i=!0,o=d}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}r.arrayChildren=r.arrayChildren.filter((function(e){return e.uuid!==n.childId}))}))).handleAction(qa,Object(S.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];re(r);var a=r.mapChildren.find((function(e){return e.uuid===n.childId}));if(!a)throw new Error("No map-child found with given ID");a.name=n.name}))).handleAction(Wa,Object(S.a)((function(e,t){var n=t.payload;n.type===r.MAP?e.fields[n.uuid]={mapChildren:[]}:n.type===r.ARRAY?e.fields[n.uuid]={arrayChildren:[]}:n.type===r.JSON?e.fields[n.uuid]={isJson:!0,value:{}}:e.fields[n.uuid]={value:ue(n.type)}}))).handleAction(za,Object(S.a)((function(e,t){var n=t.payload,r=e.fields[n.uuid];!function(e){if(!("value"in e))throw new Error("Field is not primitive")}(r),r.value=n.value}))),Xa=function(e,t){return $a.handlers[t.type](e,t)},ec=function(e){var t=e.store,n=e.dispatch,r=e.children;return Object(Wt.jsx)(Ya.Provider,{value:{store:t,dispatch:n},children:r})};function tc(){var e=i.useContext(Ya);if(void 0===e)throw new Error("useDocumentStore must be used within a <DocumentStore>");return e}function nc(){var e=tc().store;return i.useMemo((function(){return e}),[e])}function rc(){var e=tc().dispatch;return i.useMemo((function(){return e}),[e])}function ac(e){var t=nc();return i.useMemo((function(){return t.fields[e]}),[t,e])}var cc=function(e){var t=e.value,n=e.onChange;return Object(Wt.jsx)(Jn,{value:t,outlined:!0,label:"Value",onChange:function(e){return n(e.currentTarget.value)}})};function ic(e){var t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0"),a=String(e.getHours()).padStart(2,"0"),c=String(e.getMinutes()).padStart(2,"0"),i=String(e.getSeconds()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"T").concat(a,":").concat(c,":").concat(i)}var oc=function(e){var t,n=e.value,r=e.onChange,a=e.name,c=Object(i.useState)(n.toDate()),o=Object(v.a)(c,2),s=o[0],u=o[1],l=Object(Wn.e)(),d=l.errors,j=l.formState.touched,b=l.register,f=l.unregister,O=l.setValue;return Object(i.useEffect)((function(){return b(a,{validate:function(e){return!isNaN(e)||"Must be a date-time"}}),function(){return f(a)}}),[b,f,a]),Object(i.useEffect)((function(){n.toMillis()!==s.getTime()&&r(A.a.firestore.Timestamp.fromDate(s))}),[n,s,r]),Object(Wt.jsx)(Jn,{label:"Value",type:"datetime-local",defaultValue:ic(s),onChange:function(e){var t=Date.parse(e.currentTarget.value);O(a,t,!0),isNaN(t)||t===s.getTime()||u(new Date(t))},error:j[a]&&(null===(t=d[a])||void 0===t?void 0:t.message)})},sc=[r.STRING,r.NUMBER,r.BOOLEAN,r.MAP,r.ARRAY,r.NULL,r.TIMESTAMP,r.GEOPOINT,r.REFERENCE],uc=sc.filter((function(e){return e!==r.ARRAY})),lc=[r.STRING,r.NUMBER,r.BOOLEAN,r.MAP,r.ARRAY,r.JSON],dc=new Set(sc);var jc=function e(t){var n=t.uuid,r=t.isRtdb,a=t.areNamesMutable,c=void 0===a||a,i=t.areFieldsMutable,o=void 0===i||i,s=t.startingIndex,u=void 0===s?0:s,l=t.supportNestedArrays,d=void 0===l||l,j=t.isJson,b=void 0!==j&&j,f=nc(),O=rc(),h=ac(n);if(X(h)){var p=r?lc:sc;return Object(Wt.jsx)("div",{className:"DocumentEditor-Map",children:Object(Wt.jsxs)("div",{className:"DocumentEditor-MapEntries",children:[h.mapChildren.map((function(t){return Object(Wt.jsxs)("div",{className:"DocumentEditor-MapEntry",children:[Object(Wt.jsxs)("div",{className:"DocumentEditor-MapEntryMetadata",children:[Object(Wt.jsx)(fc,{uuid:n,field:h,childId:t.uuid,readonly:!c&&n===f.uuid}),Object(Wt.jsx)("span",{className:"Document-TypeSymbol",children:"="}),Object(Wt.jsx)(bc,{uuid:t.valueId,allowedTypes:p})]}),Object(Wt.jsx)(e,{uuid:t.valueId,isRtdb:r,isJson:b}),o&&Object(Wt.jsx)(Ar.a,{className:"DocumentEditor-MapEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:function(){return O(Ba({uuid:n,childId:t.uuid}))}})]},t.uuid)})),o&&Object(Wt.jsx)(Ar.a,{label:"Add field",type:"button",icon:"add",onClick:function(){return O(Pa({uuid:n,name:"",value:""}))}})]})})}if(ee(h)){var v=r?lc:d?sc:uc;return Object(Wt.jsx)("div",{className:"DocumentEditor-Array",children:Object(Wt.jsxs)("div",{className:"DocumentEditor-ArrayEntries",children:[h.arrayChildren.map((function(t,a){return Object(Wt.jsxs)("div",{className:"DocumentEditor-ArrayEntry",children:[Object(Wt.jsxs)("div",{className:"DocumentEditor-ArrayEntryMetadata",children:[Object(Wt.jsx)("div",{className:"DocumentEditor-ArrayIndex",children:Object(Wt.jsx)(Jn,{value:a+u,label:"Index",disabled:!0})}),Object(Wt.jsx)("span",{className:"Document-TypeSymbol",children:"="}),Object(Wt.jsx)(bc,{uuid:t.valueId,allowedTypes:v})]}),Object(Wt.jsx)(e,{uuid:t.valueId,isRtdb:r}),o&&Object(Wt.jsx)(Ar.a,{className:"DocumentEditor-ArrayEntryDelete",type:"button",icon:"delete",label:"Remove field",onClick:function(){return O(Va({uuid:n,childId:t.uuid}))}})]},t.uuid)})),o&&Object(Wt.jsx)(Ar.a,{label:"Add field",type:"button",icon:"add",onClick:function(){return O(Ma({uuid:n,value:""}))}})]})})}if(te(h))return Object(Wt.jsx)(Ja,{name:"".concat(n),value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}});var m=h.value instanceof Z?Object(Wt.jsx)(Za,{name:"".concat(n),value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}}):"string"===typeof h.value?Object(Wt.jsx)(cc,{value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}}):V(h.value)?Object(Wt.jsx)(Ha,{value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}}):q(h.value)?Object(Wt.jsx)(Ka,{name:"".concat(n),value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}}):function(e){return e instanceof A.a.firestore.GeoPoint}(h.value)?Object(Wt.jsx)(Ga,{name:"".concat(n),value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}}):function(e){return e instanceof A.a.firestore.Timestamp}(h.value)?Object(Wt.jsx)(oc,{name:"".concat(n),value:h.value,onChange:function(e){return O(za({uuid:n,value:e}))}}):null;return Object(Wt.jsx)("div",{className:"DocumentEditor-Primitive",children:m})},bc=function(e){var t=e.uuid,n=e.allowedTypes,r=ac(t),a=rc();return Object(Wt.jsx)(Kn,{label:"Type",outlined:!0,options:n,value:Oc(r),onChange:function(e){a(Wa({uuid:t,type:e.currentTarget.value}))}})},fc=function(e){var t,n,r=e.uuid,a=e.field,c=e.childId,s=e.readonly,u=Object(Wn.e)(),l=u.register,d=u.unregister,j=u.errors,b=u.clearError,f=u.setValue,O=u.setError,h=u.formState.touched,p=rc(),v=a.mapChildren.find((function(e){return e.uuid===c}));if(!v)throw new Error("Tried to render a name-edtior for a non-map-child");var m="".concat(c),x=o.a.useMemo((function(){return a.mapChildren.filter((function(e){return e.uuid!==c})).map((function(e){return e.name}))}),[a,c]);return Object(i.useEffect)((function(){return l(m),function(){return d(m)}}),[l,d,m]),Object(i.useEffect)((function(){var e=x.every((function(e){return e!==v.name}));v.name?e?b(m):O(m,"unique","Must be unique"):O(m,"required","Required")}),[v,x,m,O,b]),Object(Wt.jsx)(Jn,{label:"Field",outlined:!0,value:v.name,disabled:s,onChange:function(e){f(m,e.currentTarget.value),p(qa({uuid:r,childId:c,name:e.currentTarget.value}))},error:(h[m]||"unique"===(null===(t=j[m])||void 0===t?void 0:t.type))&&(null===(n=j[m])||void 0===n?void 0:n.message)})};function Oc(e){return X(e)?r.MAP:ee(e)?r.ARRAY:te(e)?r.JSON:e.value instanceof Z?r.REFERENCE:B(e.value)}var hc=function(e){var t=e.value,n=e.onChange,r=e.areRootNamesMutable,a=e.areRootFieldsMutable,c=e.rtdb,s=void 0!==c&&c,u=e.startingIndex,l=e.supportNestedArrays,d=e.firestore,j=oe(t),b=o.a.useReducer(Xa,j),f=Object(v.a)(b,2),O=f[0],h=f[1],p=Object(Wn.d)({mode:"onChange"}),m=o.a.useMemo((function(){return se(O,d)}),[O,d]),x=o.a.useMemo((function(){return Object.keys(p.errors).length}),[p]);return Object(i.useEffect)((function(){0===x?n&&n(m):n&&n(void 0)}),[m,x,n]),Object(Wt.jsx)(Wn.b,Object(N.a)(Object(N.a)({},p),{},{children:Object(Wt.jsx)(ec,{store:O,dispatch:h,children:Object(Wt.jsx)("div",{className:"DocumentEditor",children:Object(Wt.jsx)(Wt.Fragment,{children:void 0!==O.uuid&&Object(Wt.jsx)(jc,{uuid:O.uuid,isRtdb:s,areNamesMutable:r,areFieldsMutable:a,startingIndex:u,supportNestedArrays:l})})})})}))},pc=function(e){var t=e.value,n=e.onCancel,r=e.onSave,a=e.areRootKeysMutable,c=e.rtdb,o=e.startingIndex,s=e.firestore,u=Object(i.useState)(),l=Object(v.a)(u,2),d=l[0],j=l[1];function b(){n()}return Object(Wt.jsx)(Fa.a,{className:"Firestore-InlineEditor-relative-anchor",onClickOutside:b,onEscapeKey:b,children:Object(Wt.jsx)(m.a,{z:8,wrap:!0,children:Object(Wt.jsxs)(Mt.a,{className:"Firestore-InlineEditor",tag:"form",onSubmit:function(e){e.preventDefault(),e.stopPropagation(),d&&r(Object.keys(d)[0],Object.values(d)[0])},children:[Object(Wt.jsx)("div",{className:"Firestore-InlineEditorContent",children:Object(Wt.jsx)(hc,{value:t,onChange:function(e){j(e)},areRootNamesMutable:a,areRootFieldsMutable:!1,rtdb:c,startingIndex:o,supportNestedArrays:!1,firestore:s})}),Object(Wt.jsx)(Mt.e,{className:"Firestore-InlineEditorActions",children:Object(Wt.jsxs)(Mt.c,{children:[Object(Wt.jsx)(Mt.b,{type:"button",onClick:b,children:"Cancel"}),Object(Wt.jsx)(Mt.b,{type:"submit",unelevated:!0,disabled:!d,children:"Save"})]})})]})})})},vc=(n(296),i.memo((function(e){var t=e.dbRef,n=t.key||Ra(t),r=function(e){var t=Object(j.i)(),n=t.path.replace("/:path*",""),r=Object(j.f)(t.url,{path:n,strict:!0}),a=(null===r||void 0===r?void 0:r.url)||"";return"/"===a?e:"".concat(a).concat(e)}(new URL(t.toString()).pathname);return Object(Wt.jsx)(Bt.a,{className:"NodeLink",use:"body1","aria-label":"Key name",tag:d.b,to:r,children:n})})));n(297);var mc=i.memo((function(e){var t=e.value,n=(e.use,Object(Vt.a)(e,["value","use"])),r="string"===typeof t&&t.length>=24?"".concat(t.substr(0,21),"..."):t;return Object(Wt.jsx)(Bt.a,Object(N.a)(Object(N.a)({use:"body1",className:function(e){return"ValueDisplay ValueDisplay__".concat(typeof e)}(t)},n),{},{"aria-label":"Node value",children:JSON.stringify(r)}))})),xc=i.memo((function(e){var t=e.value,n=e.realtimeRef,r=Object(i.useState)(!1),a=Object(v.a)(r,2),c=a[0],o=a[1],s=Object(i.useState)(!1),u=Object(v.a)(s,2),l=u[0],d=u[1],j=function(){o(!c)},b=function(){var e=Object(Te.a)(g.a.mark((function e(t,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.set(r);case 2:o(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(Te.a)(g.a.mark((function e(t,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.child(t).set(r);case 2:d(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.remove();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),h=!n.parent&&null===t;return Object(Wt.jsxs)("div",{className:"NodeLeaf",children:[Object(Wt.jsxs)("div",{className:"NodeLeaf__key",children:[Object(Wt.jsx)(vc,{dbRef:n}),": ",Object(Wt.jsx)(mc,{use:"body1",value:t,onClick:j})]}),Object(Wt.jsxs)("span",{className:"NodeLeaf__actions",children:[Object(Wt.jsx)(La.a,{content:"Edit value",children:Object(Wt.jsx)(Ar.a,{icon:"edit",onClick:j,"aria-label":"Edit value"})}),h&&Object(Wt.jsx)(La.a,{content:"Add child",children:Object(Wt.jsx)(Ar.a,{icon:"add",onClick:function(){d(!l)},"aria-label":"Add child"})}),Object(Wt.jsx)(La.a,{content:"Delete value",children:Object(Wt.jsx)(Ar.a,{icon:"delete",onClick:O,"aria-label":"Delete value"})})]}),Object(Wt.jsxs)("div",{className:"NodeLeaf__edit-ui",children:[c&&Object(Wt.jsx)(pc,{rtdb:!0,value:Object(R.a)({},n.key||n.toString(),null===t?"":t),onCancel:function(){return o(!1)},onSave:b,areRootKeysMutable:!1}),l&&Object(Wt.jsx)(pc,{rtdb:!0,value:Object(R.a)({},n.push().key,""),onCancel:function(){return d(!1)},onSave:f,areRootKeysMutable:!0})]})]})})),gc=(n(339),n(238)),yc=n(245),wc=function(e){return new URL(e.toString()).pathname},Cc=i.memo((function(e){var t=e.realtimeRef,n=e.query,r=e.onComplete;Object(gc.ok)(t.parent,"Cannot clone the root node!");var a=null!=n,c=t.key,o=Object(i.useState)(""),s=Object(v.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)({}),j=Object(v.a)(d,2),b=j[0],f=j[1],O=Object(i.useState)(!0),h=Object(v.a)(O,2),p=h[0],m=h[1],x=Object(i.useState)(a),y=Object(v.a)(x,2),w=y[0],C=y[1];Object(i.useEffect)((function(){(function(){var e=Object(Te.a)(g.a.mark((function e(){var r,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null,null==n||!w){e.next=7;break}return e.next=4,n.once("value");case 4:r=e.sent,e.next=10;break;case 7:return e.next=9,t.once("value");case 9:r=e.sent;case 10:a={},Object.entries(r.val()||{}).forEach((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];a[n]=JSON.stringify(r)})),f(a),l((i=t,c.startsWith("-")?"".concat(wc(i.parent),"/").concat(i.push().key):"".concat(wc(i),"_copy"))),m(!1);case 15:case"end":return e.stop()}var i}),e)})));return function(){return e.apply(this,arguments)}})()()}),[m,f,l,c,t,w,n]);var E=function(e){var t=e.target;f(Object(N.a)(Object(N.a)({},b),{},Object(R.a)({},t.name,t.value)))};return Object(Wt.jsx)(ln.a,{open:!0,children:Object(Wt.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={};Object.entries(b).forEach((function(e){var t=Object(v.a)(e,2),r=t[0],a=t[1];n[r]=JSON.parse(a)})),t.root.child(u).set(n),r(u)},children:[Object(Wt.jsxs)(ln.e,{children:['Clone "',c,'"']}),Object(Wt.jsxs)(ln.d,{children:[Object(Wt.jsx)(Jn,{label:"New destination path:",value:u,onChange:function(e){return l(e.target.value)},type:"text"}),a?Object(Wt.jsx)("div",{children:Object(Wt.jsx)(yc.a,{label:"Clone filtered data set",checked:w,onChange:function(e){C(!!e.currentTarget.checked)}})}):null,Object(Wt.jsx)(Bt.a,{use:"headline6",children:"Data"}),p?"Loading...":Object.entries(b).map((function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return Object(Wt.jsx)("div",{children:Object(Wt.jsxs)("label",{children:[n,":",Object(Wt.jsx)(Gn.a,{name:n,type:"text",value:r,onChange:E,placeholder:"JSON or simple text"})]})},n)}))]}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{type:"button",action:"close",theme:"secondary",onClick:function(){return r()},children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",children:"Clone"})]})]})})})),Nc=(n(343),i.memo((function(e){var t=e.params,n=void 0===t?{}:t,r=e.onSubmit,a=e.onCancel,c=n.key,o=void 0===c?"":c,s=n.operator,u=void 0===s?"==":s,l=n.value,d=void 0===l?"":l,j=n.limit,b=void 0===j?Ea:j,f=Object(i.useState)({key:o,operator:u,value:JSON.stringify(d),limit:"".concat(b)}),O=Object(v.a)(f,2),h=O[0],p=O[1],m=function(e){var t=e.target;p(Object(N.a)(Object(N.a)({},h),{},Object(R.a)({},t.name,t.value)))},x=Object(i.useRef)(null),g=Object(i.useRef)(null);return Object(i.useEffect)((function(){o?(g.current.focus(),g.current.select()):(x.current.focus(),x.current.select())}),[o]),Object(Wt.jsxs)(Mt.a,{className:"InlineQuery InlineQuery__card",tag:"form",onSubmit:function(e){e.preventDefault(),r&&r(function(e){var t=e.key,n=e.operator,r=e.value,a=e.limit;return{key:t,operator:n,value:ka(r||"null"),limit:Number(a)}}(h))},onKeyDown:function(e){e.keyCode===wr()("esc")&&a&&a()},children:[Object(Wt.jsxs)("div",{className:"InlineQuery__form-fields",children:[Object(Wt.jsx)(Jn,{outlined:!0,label:"Key",name:"key",value:h.key,onChange:m,inputRef:x}),Object(Wt.jsx)(Kn,{label:"Condition",name:"operator",options:["==",">=","<="],value:h.operator,onChange:m}),Object(Wt.jsx)(Jn,{label:"Value",name:"value",value:h.value,onChange:m,inputRef:g,placeholder:"JSON or plain text"}),Object(Wt.jsx)(Jn,{label:"limit",name:"limit",value:h.limit,onChange:m})]}),Object(Wt.jsx)(Mt.e,{className:"InlineQuery__actions",children:Object(Wt.jsxs)(Mt.c,{children:[n!==Sa&&Object(Wt.jsx)(Mt.b,{type:"button",label:"Reset",danger:!0,onClick:function(){return r(Sa)}}),Object(Wt.jsx)(Mt.b,{theme:"secondary",type:"button",label:"Cancel",onClick:function(){return a&&a()}}),Object(Wt.jsx)(Mt.b,{unelevated:!0,type:"submit",label:"Search"})]})})]})})));var Ec,Sc=i.memo((function(e){var t=e.realtimeRef,n=e.isOpen,r=e.onComplete,a=t.key,c=Object(i.useState)({newKey:a}),o=Object(v.a)(c,2),s=o[0],u=o[1],l=function(){var e=Object(Te.a)(g.a.mark((function e(n){var c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,t.once("value");case 3:return c=e.sent,e.prev=4,e.next=7,t.parent.update((i={},Object(R.a)(i,s.newKey,c.val()),Object(R.a)(i,a,null),i));case 7:e.next=11;break;case 9:e.prev=9,e.t0=e.catch(4);case 11:r(!0);case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(Wt.jsx)(ln.a,{open:n,onClose:function(){return r(!1)},children:Object(Wt.jsxs)("form",{onSubmit:l,children:[Object(Wt.jsxs)(ln.e,{children:['Rename "',a,'"']}),Object(Wt.jsx)(ln.d,{onSubmit:l,children:Object(Wt.jsx)(Jn,{name:"newKey",label:"New key:",value:s.newKey,onChange:function(e){var t=e.target;u(Object(N.a)(Object(N.a)({},s),{},Object(R.a)({},t.name,t.value)))},type:"text"})}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{type:"submit",unelevated:!0,children:"Rename"})]})]})})})),kc=function(e){return e===la.Table?la.TreeView:la.Table},Rc=function(e){switch(e){case la.Table:return"view_comfy";case la.TreeView:return"view_list";default:throw new Error("Display type is unrecognized")}},Ac={color:"#09d3ac"},_c=i.memo((function(e){var t=e.displayType,n=e.onDisplayTypeChange,r=e.realtimeRef,a=e.updateQuery,c=e.onExpandRequested,o=e.queryParams,s=Object(i.useState)(!1),u=Object(v.a)(s,2),l=u[0],d=u[1],j=Object(i.useState)(!1),b=Object(v.a)(j,2),f=b[0],O=b[1],h=Object(i.useState)(!1),p=Object(v.a)(h,2),m=p[0],x=p[1],y=Object(i.useState)(!1),w=Object(v.a)(y,2),C=w[0],N=w[1],E=Object(i.useState)(!1),S=Object(v.a)(E,2),k=S[0],A=S[1],_=l||f||m||C||k||o!==Sa,D=null===r.parent,I=r.push().key,T=function(){var e=Object(Te.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.child(t).set(n);case 2:O(!1);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.remove();case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}(),L=i.useMemo((function(){return Ta(r,o||{})}),[r,o]);return Object(Wt.jsxs)("aside",{className:"NodeActions"+(_?" NodeActions--active":""),children:[Object(Wt.jsx)(La.a,{content:"Filter children",children:Object(Wt.jsx)(Ar.a,{icon:"filter_list",onIcon:Object(Wt.jsx)("span",{style:Ac,children:"filter_list"}),onClick:function(){return c(),void x(!0)},checked:o!==Sa})}),Object(Wt.jsx)(La.a,{content:"Add child",children:Object(Wt.jsx)(Ar.a,{icon:"add",onClick:function(){c(),O(!f)}})}),D?null:Object(Wt.jsx)(La.a,{content:"Switch view",children:Object(Wt.jsx)(Ar.a,{icon:Rc(kc(t)),onClick:function(){n(kc(t))}})}),Object(Wt.jsxs)(Tr.b,{renderToPortal:!1,handle:Object(Wt.jsx)(Ar.a,{icon:"more_vert"}),onOpen:function(){return d(!0)},onClose:function(){return d(!1)},children:[Object(Wt.jsxs)(Tr.a,{onClick:U,children:[Object(Wt.jsx)(qt.a,{icon:"delete"})," Remove"]}),!D&&Object(Wt.jsxs)(Tr.a,{onClick:function(){return N(!0)},children:[Object(Wt.jsx)(qt.a,{icon:"file_copy"})," Clone"]}),!D&&Object(Wt.jsxs)(Tr.a,{onClick:function(){return A(!0)},children:[Object(Wt.jsx)(qt.a,{icon:"edit"})," Rename"]})]}),Object(Wt.jsxs)("div",{className:"NodeActions__additional-ui",children:[f&&Object(Wt.jsx)(pc,{rtdb:!0,value:Object(R.a)({},I,""),onCancel:function(){return O(!1)},onSave:T,areRootKeysMutable:!0}),m&&Object(Wt.jsx)(Nc,{params:o,onSubmit:function(e){a&&a(e),x(!1)},onCancel:function(){return x(!1)}}),C&&Object(Wt.jsx)(Cc,{realtimeRef:r,query:L,onComplete:function(){return N(!1)}}),!D&&Object(Wt.jsx)(Sc,{realtimeRef:r,isOpen:k,onComplete:function(){return A(!1)}})]})]})}));n(216),n(344),n(348);!function(e){e.KeyValue="kvp",e.KeyObject="ko",e.Array="arr"}(Ec||(Ec={}));var Dc=i.memo((function(e){var t=e.query,n=e.hasMoreRows,r=e.onLoadMore,a=Object(i.useState)({type:Ec.Array,headers:[],rows:[]}),c=Object(v.a)(a,2),o=c[0],s=c[1];return Object(i.useEffect)((function(){Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,Ic(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[t]),Object(Wt.jsx)(Ir.a,{className:"NodeTabularDisplay",children:Object(Wt.jsxs)(Ir.d,{children:[Object(Wt.jsx)(Ir.e,{children:Object(Wt.jsx)(Ir.g,{children:o.headers.map((function(e,t){return Object(Wt.jsx)(Ir.f,{children:Object(Wt.jsx)(Bt.a,{use:"body1",children:e})},t)}))})}),Object(Wt.jsx)(Ir.b,{children:o.rows.map((function(e,n){return Object(Wt.jsx)(Ir.g,{children:o.headers.map((function(n,r){return function(e,t,n,r,a){if(0===r)return Object(Wt.jsx)(Ir.c,{children:Object(Wt.jsx)(Bt.a,{use:"body2",className:"NodeTabularDisplay__key",children:Object(Wt.jsx)(vc,{dbRef:a.child(t.pkId)})})},n);var c=e.type===Ec.KeyValue||e.type===Ec.Array?t.value:t.value[n];switch(typeof c){case"undefined":return Object(Wt.jsx)(Ir.c,{className:"undef"},n);case"object":return Object(Wt.jsx)(Ir.c,{className:"object",children:Object(Wt.jsx)(Bt.a,{use:"body2",children:"{ ... }"})},n);default:return Object(Wt.jsx)(Ir.c,{className:typeof c,children:Object(Wt.jsx)(mc,{value:c,use:"body2"})},n)}}(o,e,n,r,t.ref)}))},n)}))}),n&&Object(Wt.jsx)(Ir.e,{children:Object(Wt.jsx)(Ir.g,{children:Object(Wt.jsx)(Ir.c,{colSpan:o.headers.length,children:Object(Wt.jsx)(on.a,{onClick:function(){return r&&r()},children:"Load More"})})})})]})})}));function Ic(e){return Tc.apply(this,arguments)}function Tc(){return(Tc=Object(Te.a)(g.a.mark((function e(t){var n,r,a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.once("value");case 2:if(n=e.sent,void 0!==(r=n.val())&&null!==r){e.next=6;break}return e.abrupt("return",{type:Ec.KeyValue,headers:["No Data Available"],rows:[{pkId:"value is undefined",value:"Value is undefined"}]});case 6:return a=Object.entries(r),c=Uc(a),e.abrupt("return",{type:c,headers:Lc(c,a),rows:a.map((function(e){var t=Object(v.a)(e,2);return{pkId:t[0],value:t[1]}}))});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uc(e){var t=Object(v.a)(e[0],2),n=t[0],r=t[1];return isNaN(parseInt(n))?"object"===typeof r?Ec.KeyObject:Ec.KeyValue:Ec.Array}function Lc(e,t){var n=Object(v.a)(t[0],2)[1];switch(e){case Ec.KeyValue:return["key","value"];case Ec.Array:return["","value"];default:return["key"].concat(Object(E.a)(Object.keys(n)))}}var Fc=i.memo((function(e){var t=e.realtimeRef,n=e.children,r=e.queryParams,a=e.updateQuery,c=e.isViewRoot,o=e.query,s=null===t.parent,u=!!n.length,l=Object(i.useState)(!(!s&&!c)),d=Object(v.a)(l,2),j=d[0],b=d[1],f=Object(i.useState)(la.TreeView),O=Object(v.a)(f,2),h=O[0],p=O[1],m=r&&r.limit?n.length>=r.limit:n.length>=Ea,x=function(){var e=r&&r.limit||Ea;a&&a(Object(N.a)(Object(N.a)({},r),{},{limit:e+Ea}))},g=Object(i.useCallback)((function(){return b(!j)}),[b,j]);return Object(Wt.jsxs)("div",{className:"NodeParent",children:[Object(Wt.jsxs)("div",{className:"NodeParent__label",children:[j?Object(Wt.jsx)("button",{className:"NodeParent__tree-button material-icons","aria-label":"less",onClick:g,children:"arrow_drop_down"}):Object(Wt.jsx)("button",{className:"NodeParent__tree-button material-icons","aria-label":"more",onClick:g,children:"arrow_right"}),Object(Wt.jsx)(vc,{dbRef:t}),Object(Wt.jsx)(_c,{realtimeRef:t,displayType:h,onDisplayTypeChange:function(e){p(e),b(!0)},onExpandRequested:function(){return b(!0)},queryParams:r,updateQuery:a})]}),Object(Wt.jsx)("div",{className:"NodeParent__children-container",children:u&&j&&(h===la.Table?Object(Wt.jsx)(Dc,{query:o||t,hasMoreRows:m,onLoadMore:x}):Object(Wt.jsxs)("ul",{className:"NodeParent__children",children:[n.map((function(e){return Object(Wt.jsx)("li",{children:Object(Wt.jsx)(Mc,{realtimeRef:t.child(e)})},e)})),m&&Object(Wt.jsx)("li",{className:"load-more",children:Object(Wt.jsx)(on.a,{onClick:x,children:"Load more..."})})]}))})]})})),Pc={isLoading:!0,children:[]},Mc=i.memo((function(e){var t=e.realtimeRef,n=e.isViewRoot,r=Object(i.useState)(Pc),a=Object(v.a)(r,2),c=a[0],o=a[1],s=Object(i.useState)(void 0),u=Object(v.a)(s,2),l=u[0],d=u[1];Object(i.useEffect)((function(){var e=function(e){var t=Ua(e,{print:"silent",timeout:"1s"});return Object(ha.a)((function(){return fetch(t,{headers:_a})})).pipe(Object(ya.a)(!0),Object(wa.a)((function(){return Object(pa.a)(!1)})),Object(Ca.a)({bufferSize:1,refCount:!0}))}(t),n=Da(t,e),r=n.query,a=n.viewModel$;d(r);var c=a.subscribe((function(e){return o(e)}));return function(){return c.unsubscribe()}}),[t]);var j=Object(i.useState)(Sa),b=Object(v.a)(j,2),f=b[0],O=b[1],h=c.children,p=c.query;return!!h.length||f!==Sa?Object(Wt.jsx)(Fc,{realtimeRef:t,children:h,queryParams:f,updateQuery:function(e){O(e),l&&l.next(e)},isViewRoot:n,query:p}):Object(Wt.jsx)(xc,{realtimeRef:t,value:c.value})})),Bc=function(e){var t=e.root.toString();return t.substring(0,t.length-1)},Vc=function(e){var t=e.config,n=e.namespace,r=e.path,a=Object(i.useState)(void 0),c=Object(v.a)(a,2),o=c[0],s=c[1],u=Object(i.useState)(void 0),l=Object(v.a)(u,2),d=l[0],b=l[1],f=Object(j.g)(),O=Object(i.useState)(!1),h=Object(v.a)(O,2),p=h[0],m=h[1],x=Object(i.useState)(),g=Object(v.a)(x,2),y=g[0],w=g[1];Object(i.useEffect)((function(){var e=na(t,n),a=Object(v.a)(e,2),c=a[0],i=a[1].cleanup;s(r?c.ref(r):c.ref());var o=new sa(t,n);return b(o),function(){i(),o.delete()}}),[t,n,r]);var C="/database/".concat(n,"/data");return Object(Wt.jsx)("div",{className:"Database-Database",children:o&&d?Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(oa,{base:C,path:r||"/",inputPrefix:Bc(o),onNavigate:function(e){e.startsWith("/")&&(e=e.substr(1)),f.push("".concat(C,"/").concat(e))},children:Object(Wt.jsx)(Tr.b,{handle:Object(Wt.jsx)(Ar.a,{icon:"more_vert",label:"Open menu"}),renderToPortal:!0,children:Object(Wt.jsx)(Tr.a,{onClick:function(){return m(!0)},children:"Import JSON"})})}),Object(Wt.jsx)(qc,{onDrop:function(e){return w(e)},children:Object(Wt.jsx)(Mc,{realtimeRef:o,isViewRoot:!0})}),(p||y)&&Object(Wt.jsx)(fa,{api:d,reference:o,droppedFile:y,onComplete:function(){w(void 0),m(!1)}})]}):Object(Wt.jsx)("p",{children:"Loading"})})},qc=function(e){var t=e.onDrop,n=e.children,r=Object(Xr.a)({onDrop:function(e){return t(e[0])},noClick:!0,accept:"application/json"}),a=r.getInputProps,c=r.getRootProps,i=r.isDragActive,o=r.isDragAccept;return Object(Wt.jsxs)("div",Object(N.a)(Object(N.a)({className:"Database-Content"},c()),{},{children:[n,i&&Object(Wt.jsx)("div",{className:"Database-Content-Dragging",children:o?"Drop JSON file to import":Object(Wt.jsx)("span",{className:"invalid",children:"Only JSON files are supported for data import."})}),Object(Wt.jsx)("input",Object(N.a)({},a()))]}))};var Wc=Object(C.a)((function(e){return e.database.databases}),(function(e){return Object(de.d)(e.result)?e.result.data.map((function(e){return e.name})):void 0})),zc=(n(349),n(415)),Hc=function(e){var t=e.name,n=e.navigation,r=e.activated,a=n(t);return Object(Wt.jsxs)(sr.d,{activated:r,tag:d.b,to:a,"data-testid":"nav-".concat(t),children:[Object(Wt.jsx)(sr.e,{tag:Zt,size:"large",theme:"primary"}),Object(Wt.jsx)(sr.i,{children:t})]})},Gc=function(e){var t=e.primary,n=e.current,r=e.navigation,a=e.databases,c=a?a.filter((function(e){return e!==t})):[];n!==t&&c.indexOf(n)<0&&c.push(n);var i="Database-Picker";return 0===c.length&&(i+=" Database-Picker--primary-only"),Object(Wt.jsx)("div",{className:i,children:Object(Wt.jsx)(zc.a,{children:Object(Wt.jsxs)(sr.b,{children:[Object(Wt.jsx)(sr.c,{children:Object(Wt.jsx)(Bt.a,{use:"caption",children:"Databases"})}),Object(Wt.jsx)(Hc,{activated:n===t,name:t,navigation:r}),Object(Wt.jsx)(sr.a,{tag:"div"}),c.map((function(e){return Object(Wt.jsx)(Hc,{activated:n===e,name:e,navigation:r},e)}))]})})})},Jc=Pt({databases:Wc}),Kc=Object(l.b)(Jc,(function(e){return{databasesSubscribe:function(){e(Object(It.databasesSubscribe)())},databasesUnsubscribe:function(){e(Object(It.databasesUnsubscribe)())}}}))((function(e){var t=e.current,n=e.primary,r=e.navigation,a=e.databases,c=e.children,o=e.databasesSubscribe,s=e.databasesUnsubscribe;Object(i.useEffect)((function(){return o(),s}),[o,s]);var u=Object(i.useState)(a),l=Object(v.a)(u,2),d=l[0],j=l[1],b=!1;return a!==d&&(void 0===d||void 0===a||d.join("|")===a.join("|")?j(a):b=!0),Object(Wt.jsxs)(Wt.Fragment,{children:[b&&Object(Wt.jsx)(p.b,{span:12,children:Object(Wt.jsx)(Un,{icon:"info",actions:Object(Wt.jsx)(on.a,{theme:"secondary",onClick:function(){return j(a)},children:"Reload"}),children:"There are new databases that have been created. Reload the page to view them."})}),Object(Wt.jsx)(p.b,{span:12,children:Object(Wt.jsx)(m.a,{z:2,wrap:!0,children:Object(Wt.jsx)(Mt.a,{className:"canvas-card",children:Object(Wt.jsxs)("div",{className:"Database",children:[Object(Wt.jsx)(Gc,{current:t,primary:n,navigation:r,databases:d}),c]})})})})]})})),Qc=Pt({projectIdResult:Je.e,configResult:Je.c}),Zc=Object(l.b)(Qc)((function(e){var t=e.projectIdResult,n=e.configResult;return Object(de.c)(Object(de.a)(t,n),{onNone:function(){return Object(Wt.jsx)(cn,{span:12,message:"Realtime Database Emulator Loading..."})},onError:function(){return Object(Wt.jsx)($c,{})},onData:function(e){var t=Object(v.a)(e,2),n=t[0],r=t[1];return void 0===r?Object(Wt.jsx)($c,{}):Object(Wt.jsx)(Yc,{projectId:n,config:r})}})})),Yc=function(e){var t=e.projectId,n=e.config,r=Object(j.i)(),a=r.path,c=r.url,i=t;return Object(Wt.jsxs)(j.d,{children:[Object(Wt.jsxs)(j.b,{exact:!0,path:a,children:[Object(Wt.jsx)(j.a,{to:"".concat(c,"/").concat(i,"/data")}),";"]}),Object(Wt.jsx)(j.b,{path:"".concat(a,"/:namespace/data/:path*"),render:function(e){var t=e.match,r=t.params.namespace,a="/".concat(t.params.path||"");return Object(Wt.jsx)(Kc,{primary:i,current:r,navigation:function(e){return"".concat(c,"/").concat(e,"/data")},children:Object(Wt.jsx)(Vc,{namespace:r,path:a,config:n})})}})]})},$c=function(){return Object(Wt.jsx)(tn,{productName:"RTDB"})},Xc=(n(133),function(){return Pn({title:"Delete all data?",body:"Proceeding will delete all your collections, sub-collections and\n             documents within your database.",acceptLabel:null,cancelLabel:null,footer:Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(ln.c,{type:"button",theme:"secondary",action:"close",children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Clear"})]})})});function ei(e){var t=e.textToCopy,n=e.label,r=e.theme;n=n||"Copy",r=r||"textPrimaryOnBackground";var a=function(e){var t=Object(i.useState)(!1),n=Object(v.a)(t,2),r=n[0],a=n[1];return{isTextCopied:r,writeText:Object(i.useCallback)((function(){return navigator.clipboard.writeText(e).then((function(){return a(!0)})).catch((function(){return a((function(e){return e}))}))}),[e])}}(t).writeText;return Object(Wt.jsx)(Ar.a,{theme:r,icon:"content_copy",label:n,onClick:a})}var ti=n(164),ni=n(186),ri=n.n(ni),ai=n(410),ci=Object(k.createAction)("@firestore/addCollectionFilter")(),ii=Object(k.createAction)("@firestore/removeCollectionFilter")(),oi={collectionFilters:{}},si=i.createContext({store:oi,dispatch:function(){}}),ui=Object(k.createReducer)(oi).handleAction(ci,Object(S.a)((function(e,t){var n=t.payload,r=(n.path,Object(Vt.a)(n,["path"]));e.collectionFilters[n.path]=r}))).handleAction(ii,Object(S.a)((function(e,t){var n=t.payload;delete e.collectionFilters[n.path]}))),li=function(e,t){return ui.handlers[t.type](e,t)},di=function(e){var t=e.initState,n=void 0===t?oi:t,r=e.children,a=i.useReducer(li,n),c=Object(v.a)(a,2),o=c[0],s=c[1];return Object(Wt.jsx)(si.Provider,{value:{store:o,dispatch:s},children:r})};function ji(){var e=i.useContext(si);if(void 0===e)throw new Error("useFirestoreStore must be used within a <FirestoreStore>");return e}function bi(e){return ji().store.collectionFilters[e]}var fi=n(51),Oi=n.n(fi);var hi=o.a.memo((function(e){var t=e.name,n=e.error,r=Object(Wn.e)(),a=r.setValue,c=(0,r.watch)(t),o=Object(i.useState)(function(e){return V(e)?"boolean":q(e)?"number":"string"}(c)),s=Object(v.a)(o,2),u=s[0],l=s[1];return Object(i.useEffect)((function(){void 0===c&&a(t,"")}),[c,a,t]),Object(Wt.jsxs)("div",{className:Oi.a.conditionEntry,children:[Object(Wt.jsx)(Kn,{options:["string","number","boolean"],value:u,onChange:function(e){l(e.currentTarget.value)},fieldClassName:Oi.a.conditionEntryType}),"string"===u&&Object(Wt.jsx)(Wn.a,{as:Jn,name:t,defaultValue:"",error:n,fieldClassName:Oi.a.conditionEntryValue,"aria-label":"Value"}),"number"===u&&Object(Wt.jsx)(Wn.a,{as:Jn,name:t,defaultValue:"",rules:{pattern:{value:F,message:"Must be a number"}},error:n,onChange:function(e){var t=Object(v.a)(e,1)[0];return t.target.value.match(F)?parseFloat(t.target.value):t.target.value},fieldClassName:Oi.a.conditionEntryValue,"aria-label":"Value"}),"boolean"===u&&Object(Wt.jsx)(pi,{name:t})]})})),pi=function(e){var t=e.name,n=Object(Wn.e)(),r=n.register,a=n.setValue,c=n.unregister,o=n.watch;Object(i.useEffect)((function(){return r({name:t}),a(t,!0),function(){return c(t)}}),[r,c,a,t]);var s=o(t);return Object(Wt.jsx)(Kn,{name:t,options:["true","false"],value:s,onChange:function(e){return a(t,"true"===e.currentTarget.value)},fieldClassName:Oi.a.conditionEntryValue,"aria-label":"Value"})},vi=function(e){var t=e.name,n=Object(Wn.e)(),r=n.errors,a=n.formState.touched,c=Object(Wn.c)({name:t}),o=c.fields,s=c.append,u=c.remove;return Object(i.useEffect)((function(){o.length<1&&s({_:""})}),[s,o]),Object(Wt.jsxs)("ul",{className:Oi.a.conditionEntries,children:[o.map((function(e,n){var c="".concat(t,"[").concat(n,"]");return Object(Wt.jsxs)("li",{children:[Object(Wt.jsx)(hi,{name:c,error:a[c]&&r[c]}),Object(Wt.jsx)(Ar.a,{className:o.length>1?Oi.a.removeFilter:Oi.a.hidden,icon:"delete",label:"Remove filter",type:"button",onClick:function(){return u(n)}})]},e.id)})),Object(Wt.jsx)(on.a,{type:"button",icon:"add",onClick:function(){return s({_:""})},children:"Add value"})]})},mi=function(e){var t=e.name,n=e.disabled,r=Object(Wn.e)(),a=r.register,c=r.setValue,o=r.unregister,s=r.watch;Object(i.useEffect)((function(){return n?c(t,void 0):a({name:t}),function(){return o(t)}}),[a,o,n,t,c]);var u=s(t);return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(dn.a,{value:"asc",label:"Ascending",checked:"asc"===u,onChange:function(){return c(t,"asc")},disabled:n}),Object(Wt.jsx)(dn.a,{value:"desc",label:"Descending",checked:"desc"===u,onChange:function(){return c(t,"desc")},disabled:n})]})},xi=function(e){var t,n,r=e.className,a=e.path,c=e.onClose,o=bi(a),s=function(){var e=ji().dispatch;return i.useMemo((function(){return e}),[e])}(),u=Object(Wn.d)({mode:"onChange",defaultValues:o}),l=u.watch({nest:!0});return Object(Wt.jsx)(gi,{children:Object(Wt.jsx)(Wn.b,Object(N.a)(Object(N.a)({},u),{},{children:Object(Wt.jsxs)("form",{onSubmit:u.handleSubmit((function(e){s(ci(Object(N.a)({path:a},e))),null===c||void 0===c||c()})),className:r,children:[Object(Wt.jsx)(Ni,{title:"Filter by field",preview:l.field,defaultOpen:!0,children:Object(Wt.jsx)(Wn.a,{as:Jn,name:"field",label:"Enter field",rules:{required:"Required"},defaultValue:"",error:u.formState.touched.field&&(null===(t=u.errors.field)||void 0===t?void 0:t.message)})}),Object(Wt.jsx)(Ni,{title:"Add condition",preview:Object(Wt.jsx)(yi,{cf:l}),defaultOpen:!0,children:Object(Wt.jsxs)(Ci,{children:[l&&_(l)&&Object(Wt.jsx)(hi,{name:"value",error:u.formState.touched.value&&(null===(n=u.errors.value)||void 0===n?void 0:n.message)}),l&&D(l)&&Object(Wt.jsx)(vi,{name:"values"})]})}),Object(Wt.jsx)(Ni,{title:"Sort results",preview:I(l)&&l.sort,defaultOpen:!0,children:Object(Wt.jsx)(mi,{name:"sort",disabled:!I(l)})}),Object(Wt.jsx)(wi,{path:a,cf:l}),Object(Wt.jsxs)(Mt.e,{className:Oi.a.actions,children:[Object(Wt.jsx)(Mt.c,{children:Object(Wt.jsx)(Mt.b,{type:"button",onClick:function(){s(ii({path:a})),null===c||void 0===c||c()},children:"Clear"})}),Object(Wt.jsxs)(Mt.c,{children:[Object(Wt.jsx)(Mt.b,{type:"button",onClick:function(){return null===c||void 0===c?void 0:c()},children:"Cancel"}),Object(Wt.jsx)(Mt.b,{unelevated:!0,type:"submit",disabled:!u.formState.isValid,children:"Apply"})]})]})]})}))})},gi=function(e){var t=e.children;return Object(Wt.jsx)(c.b,{options:{background:f,surface:"#fff"},children:Object(Wt.jsx)(c.a,{use:["background"],tag:"div",children:t})})},yi=function(e){var t=e.cf,n='"'.concat(t.operator,'"');return _(t)?Object(Wt.jsx)("span",{children:"".concat(n,', "').concat(t.value,'"')}):D(t)?Object(Wt.jsx)("span",{children:"".concat(n,", ").concat(JSON.stringify(t.values))}):null},wi=function(e){var t=e.path,n=e.cf,r=t.split("/").pop();return Object(Wt.jsxs)("code",{className:Oi.a.preview,"aria-label":"Code preview",children:[Object(Wt.jsxs)("div",{children:[".collection(","".concat(JSON.stringify(r)),")"]}),(_(n)||D(n))&&Object(Wt.jsxs)("div",{className:Oi.a.previewFilter,children:['.where("',n.field,'", ',Object(Wt.jsx)(yi,{cf:n}),")"]}),I(n)&&!!n.sort&&Object(Wt.jsxs)("div",{className:Oi.a.previewFilter,children:[".orderBy(",'"'.concat(n.field,'", "').concat(n.sort,'"'),")"]})]})},Ci=function(e){var t=e.children;return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Wn.a,{as:Kn,name:"operator",label:"Only show documents where the specified field is...",placeholder:"No condition",options:[{label:"(==) equal to",value:"=="},{label:"(!=) not equal to",value:"!="},{label:"(>) greater than",value:">"},{label:"(>=) greater than or equal to",value:">="},{label:"(<) less than",value:"<"},{label:"(<=) less than or equal to",value:"<="},{label:"(in) equal to any of the following",value:"in"},{label:"(not-in) not equal to any of the following",value:"not-in"},{label:"(array-contains) an array containing",value:"array-contains"},{label:"(array-contains-any) an array containing any",value:"array-contains-any"}],onChange:function(e){return Object(v.a)(e,1)[0].currentTarget.value||void 0}}),t]})},Ni=function(e){var t=e.title,n=e.preview,r=e.defaultOpen,a=e.children,c=Object(i.useState)(r),o=Object(v.a)(c,2),s=o[0],u=o[1];return Object(Wt.jsx)(ai.a,{className:Oi.a.listItem,defaultOpen:s,handle:Object(Wt.jsx)(sr.j,{text:Object(Wt.jsxs)("div",{className:Oi.a.headerTitle,children:[Object(Wt.jsx)(Bt.a,{use:"body1",children:t}),!s&&n&&Object(Wt.jsx)(Bt.a,{use:"caption",children:n})]}),metaIcon:"chevron_right",className:Oi.a.header}),onOpen:function(){return u(!0)},onClose:function(){return u(!1)},children:Object(Wt.jsx)("div",{className:Oi.a.children,children:a})})},Ei=function(e){var t=e.collectionRef,n=e.onChange,r=Object(i.useState)(t.doc().id),a=Object(v.a)(r,2),c=a[0],o=a[1],s=Object(i.useState)(),u=Object(v.a)(s,2),l=u[0],d=u[1],j=Object(i.useCallback)((function(){try{return{id:c,data:l}}catch(e){return{id:c,data:{invalidData:!0}}}}),[c,l]);Object(i.useEffect)((function(){n(j())}),[j,n]);return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Jn,{id:"add-document-path",fullwidth:!0,disabled:!0,label:"Parent path",value:t.path}),Object(Wt.jsx)(Jn,{id:"add-document-id",fullwidth:!0,label:"Document ID",value:c,onChange:function(e){o(e.target.value),n(j())},required:!0}),Object(Wt.jsx)(hc,{value:{"":""},onChange:function(e){return d(e)}})]})},Si=function(e){var t=e.collectionRef,n=e.onClose,r=e.onValue,a=Object(Vt.a)(e,["collectionRef","onClose","onValue"]),c=Object(i.useState)({id:"",data:void 0}),o=Object(v.a)(c,2),s=o[0],u=o[1];return Object(Wt.jsxs)(ln.a,Object(N.a)(Object(N.a)({},a),{},{onClose:function(e){r("accept"===e.detail.action?s:null),n&&n(e)},children:[Object(Wt.jsx)(ln.e,{children:"Add a document"}),Object(Wt.jsx)(ln.d,{children:Object(Wt.jsx)(Ei,{collectionRef:t,onChange:u})}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!s.data,children:"Save"})]})]}))},ki=n(239),Ri=n.n(ki),Ai=function(e){var t=e.docId,n=e.url,r=e.queryFieldValue,a=e.missing,i=an()("Firestore-List-Item",Object(R.a)({},Ri.a.missing,a));return Object(Wt.jsx)(c.a,{use:[a?"textSecondaryOnBackground":"textPrimaryOnBackground"],children:Object(Wt.jsx)(sr.d,{className:i,tag:d.c,to:"".concat(n,"/").concat(encodeURIComponent(t)),activeClassName:"mdc-list-item--activated","data-testid":"firestore-document-list-item",children:void 0===r?Object(Wt.jsx)(sr.i,{children:t}):Object(Wt.jsxs)(sr.i,{"data-testid":"twoLine",children:[Object(Wt.jsx)(sr.g,{children:K(r,20)}),Object(Wt.jsx)(sr.h,{children:t})]})})})},_i=n(240),Di=n(156);function Ii(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.json()};return function(){var n=Object(Te.a)(g.a.mark((function n(r){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(r,Object(N.a)(Object(N.a)({},e),{},{headers:Object(N.a)(Object(N.a)({},e.headers),{},{Authorization:"Bearer owner"})})).then(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}function Ti(e,t,n){var r=n.refreshInterval,a=void 0===r?0:r,c=Ii(t);return Object(Di.a)(e,c,{refreshInterval:a,suspense:!0})}var Ui=o.a.memo((function(e){var t=e.children,n=e.disableDevTools,r=function(e,t){var n=Object(Je.g)(),r=Object(i.useMemo)((function(){var r=ta.a.initializeApp(Object(N.a)(Object(N.a)({},t),{},{projectId:n}),"".concat(e," component::").concat(Math.random()));return ra(r),r}),[e,t,n]);return Object(i.useEffect)((function(){return function(){r.delete()}}),[r]),r}("firestore",Object(Je.f)());return Object(Wt.jsx)(Qa.a,{firebaseApp:r,children:Object(Wt.jsx)(i.Suspense,{fallback:Object(Wt.jsx)(cn,{message:"Loading Firestore SDK",span:12}),children:Object(Wt.jsxs)(Li,{children:[t,n||Object(Wt.jsx)(Fi,{})]})})})})),Li=o.a.memo((function(e){var t=e.children,n=Object(i.useState)(!1),r=Object(v.a)(n,2),a=r[0],c=r[1],o=Object(Qa.c)(),s=Object(Je.f)();return Object(i.useEffect)((function(){Object(Qa.b)({firebaseApp:o,setup:function(e){return e().useEmulator(s.host,s.port)}}).then((function(){return c(!0)}))}),[o,s]),a?Object(Wt.jsx)(Wt.Fragment,{children:t}):null})),Fi=o.a.memo((function(){var e=Object(Qa.d)();return Object(i.useEffect)((function(){var t=window;return t.firestore=e,console.log("\ud83d\udd25 Firestore is available at window.firestore.\n\n    Try:\n    firestore.doc('hello/world').set({hello: 'world!'});\n    firestore.doc('hello/world').get().then( snap => console.log(snap.data()) );"),function(){delete t.firestore}}),[e]),null}));function Pi(){var e=Object(Je.f)(),t=Object(Je.g)(),n="(default)";return{baseUrl:"http://".concat(e.hostAndPort,"/v1/projects/").concat(t,"/databases/").concat(n),baseEmulatorUrl:"http://".concat(e.hostAndPort,"/emulator/v1/projects/").concat(t,"/databases/").concat(n)}}var Mi=Object(_i.a)(/projects\/(.*)\/databases\/(.*)\/documents\/(.*)/,{project:1,database:2,path:3});function Bi(e){return e.split("/").map((function(e){return encodeURIComponent(e)})).join("/")}n(350);var Vi=function(e){var t=e.id,n=e.icon,r=e.children;return Object(Wt.jsx)("div",{className:"Firestore-PanelHeader",children:Object(Wt.jsxs)(xr,{children:[Object(Wt.jsx)(c.a,{use:"secondary",children:n}),Object(Wt.jsx)(Bt.a,{use:"body2",className:"Firestore-PanelHeader-title",children:t}),Object(Wt.jsx)(gr,{children:r})]})})},qi="/firestore";function Wi(e){var t=Object(j.i)().url,n=Object(j.h)().pathname,r=Object(i.useState)(null),a=Object(v.a)(r,2),c=a[0],o=a[1];return Object(i.useEffect)((function(){var r=t===qi||t.startsWith(qi)&&3===t.split("/").length,a=t===n,c=null===e||void 0===e?void 0:e[0];o(r&&a&&c?Object(Wt.jsx)(j.a,{to:"".concat(t,"/").concat(encodeURIComponent(c.id))}):null)}),[n,t,e,o]),c}var zi=[];var Hi=function(e){var t=e.collection;return Object(Wt.jsxs)("div",{className:"Firestore-Collection",children:[Object(Wt.jsx)(Vi,{id:t.id,icon:Object(Wt.jsx)(qt.a,{icon:{icon:"collections_bookmark",size:"small"}})}),Object(Wt.jsx)(cn,{message:"Loading collection"})]})};var Gi,Ji,Ki=(Gi=function(e){var t=e.collection,n=e.collectionFilter,r=e.addDocument,a=e.docs,c=e.missingDocs,o=e.url,s=Object(i.useState)(!1),u=Object(v.a)(s,2),l=u[0],d=u[1],b=Object(i.useState)(!1),f=Object(v.a)(b,2),O=f[0],h=f[1];return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsxs)("div",{className:"Firestore-Collection",children:[Object(Wt.jsx)(Vi,{id:t.id,icon:Object(Wt.jsx)(qt.a,{icon:{icon:"collections_bookmark",size:"small"}}),children:Object(Wt.jsxs)(ti.b,{children:[Object(Wt.jsx)(ti.a,{open:l,onClose:function(){return d(!1)},children:l&&Object(Wt.jsx)(xi,{className:ri.a["query-panel"],path:t.path,onClose:function(){return d(!1)}})}),Object(Wt.jsxs)("div",{className:n&&ri.a.badge,children:[Object(Wt.jsx)(ei,{textToCopy:t.id,label:"Copy collection ID"}),Object(Wt.jsx)(Ar.a,{icon:"filter_list",label:"Filter documents in this collection",onClick:function(){return d(!l)}})]})]})}),O&&Object(Wt.jsx)(Si,{collectionRef:t,open:O,onValue:r,onClose:function(){return h(!1)}}),Object(Wt.jsx)(zc.a,{dense:!0,className:"List-Actions",tag:"div",children:Object(Wt.jsx)(sr.d,{className:"list-button",tag:on.a,label:"Add document",dense:!0,icon:"add",onClick:function(){return h(!0)}})}),Object(Wt.jsxs)(zc.a,{dense:!0,className:"Firestore-Document-List",tag:"div",twoLine:n&&I(n),children:[a.map((function(e){return Object(Wt.jsx)(Ai,{url:o,docId:e.ref.id,queryFieldValue:n&&I(n)?L()(e.data(),n.field):void 0},e.ref.id)})),c.map((function(e){var n=e.path.replace(t.path,"").split("/")[1];return Object(Wt.jsx)(Ai,{missing:!0,url:o,docId:n,queryFieldValue:void 0},n)}))]})]}),Object(Wt.jsx)(j.b,{path:"".concat(o,"/:id"),render:function(e){var n=e.match,r=decodeURIComponent(n.params.id),a=t.doc(r);return Object(Wt.jsx)(xo,{reference:a})}})]})},function(e){var t=e.collection,n=Object(i.useState)(),r=Object(v.a)(n,2),a=r[0],c=r[1],o=bi(t.path),s=function(e,t){var n=e;return t&&_(t)&&(n=n.where(t.field,t.operator,t.value)),t&&D(t)&&(n=n.where(t.field,t.operator,t.values)),t&&I(t)&&(n=n.orderBy(t.field,t.sort)),n}(t,o),u=Object(Qa.e)(s,{suspense:!0}),l=Object(j.g)(),d=Object(j.i)().url,b=function(e){var t,n=Pi().baseUrl,r=Bi(e.path),a=Ti("".concat(n,"/documents/").concat(r,"?mask.fieldPaths=_none_&pageSize=300&showMissing=true"),{method:"GET"},{refreshInterval:1e4}).data;return(null===a||void 0===a||null===(t=a.documents)||void 0===t?void 0:t.filter((function(e){return!e.createTime})).map((function(e){var t=Mi.exec(e.name);if(!t)throw new Error('Document path "'.concat(e.name,'" returned by API does not match regex.'));return{path:Object(v.a)(t,4)[3]}})))||[]}(t),f=u.data.docs.length?u.data.docs:zi,O=Wi(f),h=function(){var e=Object(Te.a)(g.a.mark((function e(n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||!n.id){e.next=4;break}return e.next=3,t.doc(n.id).set(n.data);case 3:c(n.id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return a?(l.push("".concat(d,"/").concat(encodeURIComponent(a))),c(""),null):O?Object(Wt.jsx)(Wt.Fragment,{children:O}):Object(Wt.jsx)(Gi,{collection:t,collectionFilter:o,addDocument:h,docs:f,missingDocs:b,url:d})}),Qi=function(e){var t=e.documentRef,n=e.onChange,r=Object(i.useState)(""),a=Object(v.a)(r,2),c=a[0],o=a[1];return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(Jn,{label:"Parent path",value:t?t.path:"/",disabled:!0}),Object(Wt.jsx)(Jn,{label:"Collection ID",required:!0,value:c,onChange:function(e){o(e.target.value),n(e.target.value)}})]})};!function(e){e[e.COLLECTION=0]="COLLECTION",e[e.DOCUMENT=1]="DOCUMENT"}(Ji||(Ji={}));var Zi=function(e){var t=e.documentRef,n=e.onValue,r=e.onClose,a=Object(Vt.a)(e,["documentRef","onValue","onClose"]),c=Object(Qa.d)(),o=Object(i.useState)(Ji.COLLECTION),s=Object(v.a)(o,2),u=s[0],l=s[1],d=Object(i.useState)(""),j=Object(v.a)(d,2),b=j[0],f=j[1],O=Object(i.useState)({id:"",data:void 0}),h=Object(v.a)(O,2),p=h[0],m=h[1];return Object(Wt.jsxs)(ln.a,Object(N.a)(Object(N.a)({},a),{},{onClose:function(e){n("accept"===e.detail.action?{collectionId:b,document:p}:null),r&&r(e)},children:[Object(Wt.jsx)(ln.e,{children:"Start a collection"}),Object(Wt.jsx)(ln.d,{children:u===Ji.COLLECTION?Object(Wt.jsx)(Qi,{documentRef:t,onChange:f}):Object(Wt.jsx)(Ei,{collectionRef:t?t.collection(b):c.collection(b),onChange:m})}),Object(Wt.jsxs)(ln.b,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),u===Ji.DOCUMENT?Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,disabled:!p.data,children:"Save"}):Object(Wt.jsx)(ln.c,{unelevated:!0,onClick:function(){return u===Ji.COLLECTION&&b&&l(u+1)},children:"Next"})]})]}))},Yi=function(){var e=function(){var e=Pi().baseUrl,t=Object(Qa.d)(),n=Ti("".concat(e,"/documents:listCollectionIds"),{method:"POST"},{refreshInterval:1e4}).data;return((null===n||void 0===n?void 0:n.collectionIds)||[]).map((function(e){return t.collection(e)}))}();return Object(Wt.jsx)(Xi,{collections:e})},$i=function(e){var t=e.reference,n=function(e){var t=Pi().baseUrl,n=Bi(e.path),r=Ti("".concat(t,"/documents/").concat(n,":listCollectionIds"),{method:"POST"},{refreshInterval:1e4}).data;return((null===r||void 0===r?void 0:r.collectionIds)||[]).map((function(t){return e.collection(t)}))}(t);return Object(Wt.jsx)(Xi,{collections:n,reference:t})},Xi=function(e){var t=e.collections,n=e.reference,r=Object(j.i)().url,a=Object(j.g)(),c=Object(Qa.d)(),o=Wi(t),s=Object(i.useState)(!1),u=Object(v.a)(s,2),l=u[0],d=u[1],b=function(){var e=Object(Te.a)(g.a.mark((function e(t){var r,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.collectionId)||!(null===t||void 0===t?void 0:t.document.id)){e.next=7;break}return r=(n||c).collection(t.collectionId),e.next=5,r.doc(t.document.id).set(t.document.data);case 5:i=encodeURIComponent(t.collectionId),n?(o=n.path.split("/").map((function(e){return encodeURIComponent(e)})).join("/"),a.push("/firestore/".concat(o,"/").concat(i))):a.push("/firestore/".concat(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(Wt.jsxs)("div",{className:"Firestore-CollectionList","data-testid":"collection-list",children:[o,l&&Object(Wt.jsx)(Zi,{documentRef:n,open:l,onValue:b,onClose:function(){return d(!1)}}),Object(Wt.jsx)(zc.a,{dense:!0,className:"List-Actions",tag:"div",children:Object(Wt.jsx)(sr.d,{className:"list-button",tag:on.a,dense:!0,icon:"add",label:"Start collection",onClick:function(){return d(!0)}})}),Object(Wt.jsx)(zc.a,{dense:!0,tag:"div",children:t&&t.map((function(e){return Object(Wt.jsx)(eo,{collectionId:e.id,routeMatchUrl:r},e.id)}))})]})},eo=function(e){var t=e.collectionId,n=e.routeMatchUrl;return Object(Wt.jsx)(sr.d,{className:"Firestore-List-Item",tag:d.c,to:"".concat(n,"/").concat(encodeURIComponent(t)),activeClassName:"mdc-list-item--activated","data-testid":"firestore-collection-list-item",children:t},t)},to=function(e){return Pn({title:"Delete document",body:Object(Wt.jsxs)("div",{className:"Firestore--dialog-body",children:[Object(Wt.jsx)(Un,{aside:!0,type:"warning",children:"This will permanently delete the document."}),Object(Wt.jsx)(Jn,{label:"Document location",value:e.path||"/",disabled:!0})]}),acceptLabel:null,cancelLabel:null,footer:Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})})},no=function(e){return Pn({title:"Delete data",body:Object(Wt.jsxs)("div",{className:"Firestore--dialog-body",children:[Object(Wt.jsx)(Un,{aside:!0,type:"warning",children:"This will delete all fields of the document, excluding subcollections."}),Object(Wt.jsx)(Jn,{label:"Document location",value:e.path||"/",fullwidth:!0,disabled:!0})]}),acceptLabel:null,cancelLabel:null,footer:Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(ln.c,{action:"close",type:"button",theme:"secondary",children:"Cancel"}),Object(Wt.jsx)(ln.c,{unelevated:!0,action:"accept",isDefaultAction:!0,danger:!0,children:"Delete"})]})})},ro=n(122),ao=A.a.firestore.FieldValue.delete();function co(e,t,n,r){var a=so(t,n,r);e.update.apply(e,Object(E.a)(a))}function io(e,t,n){return oo.apply(this,arguments)}function oo(){return(oo=Object(Te.a)(g.a.mark((function e(t,n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.get();case 2:if(!e.sent.exists){e.next=5;break}throw new Error(".set() on an existing document would delete other fields");case 5:return e.next=7,t.set(Object(R.a)({},n,r));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function so(e,t,n){var r=e,a=[],c=!0,i=!1,o=void 0;try{for(var s,u=t[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value;if(void 0===r||!W(r))throw new Error("Tried to set field ".concat(l," on non-map value."));if(r=r[l],a.push(l),a.length<t.length&&z(r)){var d=Object(ro.a)(A.a.firestore.FieldPath,a),j=t.slice(a.length);return n===ao||ao.isEqual(n)?[d,J(r,j)]:[d,G(r,j,n)]}}}catch(b){i=!0,o=b}finally{try{c||null==u.return||u.return()}finally{if(i)throw o}}return[Object(ro.a)(A.a.firestore.FieldPath,Object(E.a)(t)),n]}n(351);var uo=o.a.createContext({}),lo=function(e){var t=e.value,n=e.children;return Object(Wt.jsx)(uo.Provider,{value:t,children:n})};function jo(){var e=o.a.useContext(uo);if(void 0===e)throw new Error("useDocumentState must be used within a DocumentProvider");return e}function bo(e){var t=jo();return 0===e.length?t:L()(t,e)}var fo,Oo=function e(t){var n,r=t.path,a=t.documentRef,o=t.maxSummaryLen,s=jo(),u=bo(r.slice(0,-1)),l=bo(r),d=Object(i.useState)(!1),j=Object(v.a)(d,2),b=j[0],f=j[1],O=Object(i.useState)(!0),h=Object(v.a)(O,2),p=h[0],m=h[1],x=Object(i.useState)(!1),g=Object(v.a)(x,2),y=g[0],w=g[1],C=null;return W(l)?C=Object.keys(l).sort(Q).map((function(t){var n=[].concat(Object(E.a)(r),[t]);return Object(Wt.jsx)(e,{path:n,documentRef:a,maxSummaryLen:o},t)})):z(l)&&(C=l.map((function(t,n){var c=[].concat(Object(E.a)(r),["".concat(n)]);return Object(Wt.jsx)(e,{path:c,documentRef:a,maxSummaryLen:o},n)}))),b?Object(Wt.jsxs)(Wt.Fragment,{children:[z(u)&&Object(Wt.jsx)(pc,{value:[l],onCancel:function(){f(!1)},onSave:function(e,t){co(a,s,r,t),f(!1)},areRootKeysMutable:!1,firestore:a.firestore}),W(u)&&Object(Wt.jsx)(pc,{value:Object(R.a)({},M(r),l),onCancel:function(){f(!1)},onSave:function(e,t){co(a,s,[].concat(Object(E.a)(P(r)),[e]),t),f(!1)},areRootKeysMutable:!1,firestore:a.firestore})]}):Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsxs)(sr.d,{onClick:function(){return m(!p)},className:an()("FieldPreview",{"FieldPreview--primitive":H(l),"FieldPreview--expanded":!H(l)&&p}),children:[Object(Wt.jsx)(qt.a,{className:"FieldPreview-expand-icon",icon:{size:"xsmall",icon:p?"arrow_drop_down":"arrow_right"}}),Object(Wt.jsx)(c.a,{use:"secondary",tag:"span",className:"FieldPreview-key",children:M(r)}),Object(Wt.jsx)("span",{className:"FieldPreview-summary",children:K(l,o)}),Object(Wt.jsxs)(sr.f,{className:"FieldPreview-actions",children:[Object(Wt.jsxs)("span",{className:"FieldPreview-type",children:["(",B(l),")"]}),H(l)&&(n=l,dc.has(B(n)))&&Object(Wt.jsx)(Ar.a,{icon:"edit",label:"Edit field",onClick:function(e){e.stopPropagation(),f(!0)}})," ",(z(l)||W(l))&&Object(Wt.jsx)(Ar.a,{icon:"add",label:"Add field",onClick:function(e){e.stopPropagation(),w(!0)}}),Object(Wt.jsx)(Ar.a,{icon:"delete",label:"Remove field",onClick:function(e){e.stopPropagation(),function(e,t,n){var r=so(t,n,ao);e.update.apply(e,Object(E.a)(r))}(a,s,r)}})]})]}),y&&z(l)&&Object(Wt.jsx)(pc,{value:[""],onCancel:function(){w(!1)},startingIndex:l.length,onSave:function(e,t){var n=[].concat(Object(E.a)(r),["".concat(l.length)]);co(a,s,n,t),w(!1)},areRootKeysMutable:!z(l),firestore:a.firestore}),y&&W(l)&&Object(Wt.jsx)(pc,{value:{"":""},onCancel:function(){w(!1)},onSave:function(e,t){var n=[].concat(Object(E.a)(r),[e]);co(a,s,n,t),w(!1)},areRootKeysMutable:!z(l),firestore:a.firestore}),!H(l)&&p&&Object(Wt.jsx)("div",{className:"FieldPreview-children",children:C})]})},ho=function(e){var t=e.children;return Object(Wt.jsx)(Bt.a,{theme:"secondary",use:"body2",className:"Firestore-Document-Warning",children:Object(Wt.jsx)("i",{children:t})})},po=function(e){var t=e.reference,n=e.maxSummaryLen,r=void 0===n?20:n,a=Object(Qa.f)(t,{suspense:!0}).data,c=Object(i.useState)(!1),o=Object(v.a)(c,2),s=o[0],u=o[1],l=a.exists,d=l?a.data():{},j=l&&0===Object.keys(d).length;return Object(Wt.jsx)(Wt.Fragment,{children:Object(Wt.jsx)(lo,{value:d||{},children:Object(Wt.jsxs)(zc.a,{dense:!0,className:"List-Actions Firestore-Document-Fields",tag:"div",children:[Object(Wt.jsx)(sr.d,{className:"list-button",tag:on.a,label:"Add field",dense:!0,icon:"add",onClick:function(){return u(!0)}}),s&&Object(Wt.jsx)(pc,{value:{"":""},onCancel:function(){u(!1)},onSave:function(){var e=Object(Te.a)(g.a.mark((function e(n,r){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l){e.next=5;break}return e.next=3,io(t,n,r);case 3:e.next=6;break;case 5:co(t,d,[n],r);case 6:u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),areRootKeysMutable:!0,firestore:t.firestore}),l&&!j&&Object(Wt.jsx)("div",{className:"Firestore-Field-List",children:Object.keys(d).sort(Q).map((function(e){return Object(Wt.jsx)(Oo,{path:[e],documentRef:t,maxSummaryLen:r},e)}))}),!l&&Object(Wt.jsx)(ho,{children:"This document does not exist, it will not appear in queries or snapshots"}),j&&Object(Wt.jsx)(ho,{children:"This document has no data"})]})})})},vo=function(e){var t=e.collectionById,n=e.children,r=Object(j.i)().url;return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)("div",{className:"Firestore-Document",children:n}),Object(Wt.jsx)(j.b,{path:"".concat(r,"/:id"),render:function(e){var n=e.match;return Object(Wt.jsx)(i.Suspense,{fallback:Object(Wt.jsx)(Hi,{collection:t(decodeURIComponent(n.params.id))}),children:Object(Wt.jsx)(Ki,{collection:t(decodeURIComponent(n.params.id))})})}})]})},mo=function(){var e=Object(Qa.d)();return Object(Wt.jsxs)(vo,{id:"Root",collectionById:function(t){return e.collection(t)},children:[Object(Wt.jsx)(Vi,{id:"Root",icon:Object(Wt.jsx)(zt,{})}),Object(Wt.jsx)(i.Suspense,{fallback:Object(Wt.jsx)(cn,{message:"Loading collections"}),children:Object(Wt.jsx)(Yi,{})})]})},xo=function(e){var t=e.reference,n=function(){var e=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(t);case 2:e.sent&&t.delete();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,no(t);case 2:e.sent&&t.set({});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(Wt.jsxs)(vo,{id:t.id,collectionById:function(e){return t.collection(e)},children:[Object(Wt.jsxs)(Vi,{id:t.id,icon:Object(Wt.jsx)(qt.a,{icon:{icon:"insert_drive_file",size:"small"}}),children:[Object(Wt.jsx)(ei,{textToCopy:t.id,label:"Copy document ID"}),Object(Wt.jsxs)(Tr.b,{handle:Object(Wt.jsx)(Ar.a,{icon:"more_vert"}),renderToPortal:!0,children:[Object(Wt.jsx)(Tr.a,{onClick:n,children:"Delete document"}),Object(Wt.jsx)(Tr.a,{onClick:r,children:"Delete all fields"})]})]}),Object(Wt.jsx)(i.Suspense,{fallback:Object(Wt.jsx)(cn,{message:"Loading collections"}),children:Object(Wt.jsx)($i,{reference:t})}),Object(Wt.jsx)(sr.a,{tag:"div"}),Object(Wt.jsx)(i.Suspense,{fallback:Object(Wt.jsx)(cn,{message:"Loading document"}),children:Object(Wt.jsx)(po,{reference:t})})]})},go=Pt({projectIdResult:Je.e,configResult:Je.d}),yo=Object(l.b)(go)((function(e){var t=e.projectIdResult,n=e.configResult;return Object(de.c)(Object(de.a)(t,n),{onNone:function(){return Object(Wt.jsx)(cn,{span:12,message:"Firestore Emulator Loading..."})},onError:function(){return Object(Wt.jsx)(Co,{})},onData:function(e){var t=Object(v.a)(e,2);t[0];return void 0===t[1]?Object(Wt.jsx)(Co,{}):Object(Wt.jsx)(Ui,{children:Object(Wt.jsx)(wo,{})})}})})),wo=o.a.memo((function(){var e=Object(Qa.d)(),t=Object(j.h)(),n=Object(j.g)(),r=Object(i.useState)(!1),a=Object(v.a)(r,2),c=a[0],o=a[1],s=function(){var e=Pi().baseEmulatorUrl,t="".concat(e,"/documents"),n=Ii({method:"DELETE"});return Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(Di.b)("*"),e.next=3,n(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))}(),u=t.pathname.replace(/^\/firestore/,""),l=u.split("/").length<2,d=u.split("/").length<3;function b(){return(b=Object(Te.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xc();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:return o(!0),e.next=8,s();case 8:f(),o(!1);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){var t="/firestore";void 0===e?n.push(t):n.push("".concat(t,"/").concat(e))}return Object(i.useEffect)((function(){return window.firestore=e,function(){return window.firestore=void 0}}),[e]),c?Object(Wt.jsx)(cn,{span:12,"data-testid":"firestore-loading"}):Object(Wt.jsx)(di,{children:Object(Wt.jsxs)(p.b,{span:12,className:"Firestore",children:[Object(Wt.jsx)("div",{className:"Firestore-actions",children:Object(Wt.jsx)(In,{use:"warning",wrap:!0,children:Object(Wt.jsx)(on.a,{unelevated:!0,onClick:function(){return function(){return b.apply(this,arguments)}()},children:"Clear all data"})})}),Object(Wt.jsx)(m.a,{z:"2",wrap:!0,children:Object(Wt.jsxs)(Mt.a,{className:"Firestore-panels-wrapper",children:[Object(Wt.jsx)(oa,{base:"/firestore",path:u,onNavigate:f}),Object(Wt.jsxs)("div",{className:"Firestore-panels",children:[Object(Wt.jsx)(mo,{}),l&&Object(Wt.jsx)("div",{className:"Firestore-Collection","data-testid":"collection-shell",children:Object(Wt.jsx)(Vi,{id:"",icon:null})}),d&&Object(Wt.jsx)("div",{className:"Firestore-Document","data-testid":"document-shell",children:Object(Wt.jsx)(Vi,{id:"",icon:null})})]})]})})]})})})),Co=function(){return Object(Wt.jsx)(tn,{productName:"Firestore"})},No=(n(352),n(187)),Eo="isLocalWarningCalloutDismissed",So=function(e){var t=e.projectId,n=Object(No.useLocalStorage)(Eo);return Object(v.a)(n,1)[0]?null:Object(Wt.jsx)(p.b,{span:12,children:Object(Wt.jsxs)(Un,{type:"note",actions:Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(on.a,{tag:"a",href:"".concat("https://console.firebase.google.com","/project/").concat(t,"/overview"),target:"_blank",label:"View project"}),Object(Wt.jsx)(on.a,{label:"Dismiss",onClick:function(){return Object(No.writeStorage)(Eo,!0)}})]}),children:["Remember this is a local environment. Visit the production version of"," ",Object(Wt.jsx)("strong",{children:t})," in the console."]})})},ko=n(188),Ro=n.n(ko),Ao={icon:"check_circle",size:"xsmall"},_o={icon:"block",size:"xsmall"},Do=function(e){var t=e.isActive;return Object(Wt.jsx)(In,{use:t?"success":"note",wrap:!0,children:Object(Wt.jsxs)(Bt.a,{use:"headline6",tag:"div",theme:t?"primary":"secondary",className:Ro.a.container,children:[t?"On":"Off",Object(Wt.jsx)(qt.a,{icon:t?Ao:_o,className:Ro.a.icon})]})})},Io=Pt({configRemote:Je.a}),To=Object(l.b)(Io)((function(e){var t=e.configRemote;return Object(de.i)(t,{onNone:function(){return Object(Wt.jsx)(cn,{span:12,message:"Overview Page Loading..."})},onData:function(e){return Object(Wt.jsx)(Uo,{config:e})},onError:function(){return Object(Wt.jsx)(Uo,{config:{}})}})})),Uo=function(e){var t=e.config;return Object(Wt.jsx)(p.b,{span:12,children:Object(Wt.jsxs)(p.c,{children:[t.projectId&&Object(Wt.jsx)(So,{projectId:t.projectId}),Object(Wt.jsx)(p.b,{span:12,children:Object(Wt.jsx)(Bt.a,{use:"headline5",children:"Emulator overview"})}),Object(Wt.jsx)(Lo,{name:"Authentication emulator",icon:Object(Wt.jsx)(Ht,{theme:"secondary"}),config:t.auth,linkTo:"/auth",testId:"emulator-info-auth"}),Object(Wt.jsx)(Lo,{name:"Firestore emulator",icon:Object(Wt.jsx)(zt,{theme:"secondary"}),config:t.firestore,linkTo:"/firestore",testId:"emulator-info-firestore"}),Object(Wt.jsx)(Lo,{name:"Realtime Database emulator",icon:Object(Wt.jsx)(Gt,{theme:"secondary"}),config:t.database,linkTo:"/database",testId:"emulator-info-database"}),Object(Wt.jsx)(Lo,{name:"Functions emulator",icon:Object(Wt.jsx)(Jt,{theme:"secondary"}),config:t.functions,linkTo:"/functions",linkLabel:"View logs",testId:"emulator-info-functions"}),Object(Wt.jsx)(Lo,{name:"Hosting emulator",icon:Object(Wt.jsx)(Kt,{theme:"secondary"}),config:t.hosting,testId:"emulator-info-hosting",linkToExternal:t.hosting&&"http://".concat(t.hosting.hostAndPort,"/"),linkLabel:"View website"}),Object(Wt.jsx)(Lo,{name:"PubSub emulator",icon:Object(Wt.jsx)(Qt,{theme:"secondary"}),config:t.pubsub,testId:"emulator-info-pubsub"})]})})},Lo=function(e){var t=e.name,n=e.icon,r=e.config,a=e.linkTo,c=e.linkLabel,i=e.linkToExternal,o=e.testId;return Object(Wt.jsx)(p.b,{span:4,children:Object(Wt.jsxs)(Mt.a,{className:"Home-EmulatorCard","data-testid":o,children:[Object(Wt.jsxs)("div",{className:"Home-EmulatorCard-Info",children:[Object(Wt.jsxs)(Bt.a,{use:"headline6",tag:"h3",className:"title",children:[n," ",Object(Wt.jsx)("span",{children:t})]}),Object(Wt.jsx)(Bt.a,{use:"body2",tag:"h4",theme:"secondary",children:"Status"}),Object(Wt.jsx)(Do,{isActive:!!r}),Object(Wt.jsx)(Bt.a,{use:"body2",tag:"h4",theme:"secondary",children:"Port number"}),Object(Wt.jsx)(Bt.a,{use:"headline6",tag:"div",children:r?r.port:"N/A"})]}),(i||a)&&Object(Wt.jsx)(sr.a,{tag:"div"}),Object(Wt.jsx)(Mt.e,{children:Object(Wt.jsxs)(Mt.d,{children:[i&&Object(Wt.jsx)(Mt.b,{tag:"a",href:i,target:"_blank",children:c}),a&&Object(Wt.jsx)(Mt.b,{tag:d.b,to:a,children:c||"Go to emulator"})]})})]})})},Fo=(n(369),function(){function e(){Object(T.a)(this,e),this.getters={}}return Object(Ue.a)(e,[{key:"getOrCompile",value:function(e,t){if(!this.getters[e])try{this.getters[e]=new Function("obj","return obj."+e+";")}catch(n){return void console.warn(n)}try{return this.getters[e](t)}catch(n){return}}}]),e}()),Po=(n(370),n(163));n(371);!function(e){e[e.NONE=0]="NONE",e[e.DOT=1]="DOT",e[e.BRACKET=2]="BRACKET",e[e.INCREMENT=3]="INCREMENT"}(fo||(fo={}));var Mo=function(e){return e.match(/^[A-Z|_]+$/i)?{mode:fo.DOT,key:e}:{mode:fo.BRACKET,key:e}},Bo=function(e){return e.map((function(e){switch(e.mode){case fo.NONE:return e.key;case fo.BRACKET:return'["'.concat(e.key,'"]');case fo.DOT:return".".concat(e.key);case fo.INCREMENT:return"[".concat(JSON.stringify(e.key),"]")}return""})).join("")},Vo=function(e){var t=e.data,n=e.appendToQuery,r=e.compiledGetters,a=JSON.stringify(t,null,2).split("\n");if(1===a.length)return Object(Wt.jsx)("div",{className:"log-message-single",children:t});var c=!1,i=[{mode:fo.NONE,key:"user"}],o=function(e,t){return r.getOrCompile(t,{user:e})},s=a.map((function(e,r){var s=e.split('"').length-1,u=0===r&&e.startsWith("{"),l=r===a.length-1&&e.endsWith("}"),d=e.endsWith("[]")||e.endsWith("[],"),j=e.endsWith("{}")||e.endsWith("{},"),b=s>=2&&(e.endsWith("{")||j),f=s>=2&&(e.endsWith("[")||d),O=!f&&(e.endsWith("[")||d),h=!O&&(e.endsWith("{")||j),p=!e.endsWith("[")&&!e.endsWith("{")&&!e.endsWith("}")&&!e.endsWith("},"),v=e.endsWith("}")||e.endsWith("},"),m=e.endsWith("]")||e.endsWith("],");if(u)return c=!0,Object(Wt.jsx)("div",{className:"line start",children:e},r);if(l)return Object(Wt.jsx)("div",{className:"line end",children:e},r);if(h||O||p){var x=i[i.length-1];x.mode===fo.INCREMENT&&(x.key+=1)}if(h&&i.push({mode:fo.NONE,key:""}),O&&(i.push({mode:fo.NONE,key:""}),i.push({mode:fo.INCREMENT,key:-1})),b||f){var g=e.split(":"),y=Object(Po.a)(g),w=y[0],C=y.slice(1),N=w.split('"'),E=Object(Po.a)(N),S=E[0],k=E.slice(1).filter((function(e){return e})).join('"'),R=C.join(":");i.push(Mo(k));var A=Bo(i);return f&&i.push({mode:fo.INCREMENT,key:-1}),m&&(i.pop(),i.pop()),v&&i.pop(),Object(Wt.jsxs)("div",{className:"line object-start",children:[S,Object(Wt.jsxs)("div",{className:"clickable key",onClick:function(){return n(A,"*")},children:['"',k,'"']}),":",R]},r)}if(v)return i[i.length-1].mode!==fo.INCREMENT&&i.pop(),Object(Wt.jsx)("div",{className:"line object-end",children:e},r);if(m)return i.pop(),i.pop(),Object(Wt.jsx)("div",{className:"line array-end",children:e},r);if(p){if(!c)return Object(Wt.jsx)("div",{className:"line literal",children:Object(Wt.jsx)("div",{className:"value clickable",children:e})},r);var _=e.split(":"),D=Object(Po.a)(_),I=D[0],T=D.slice(1),U=I.split('"').slice(1).filter((function(e){return e})).join('"'),L=T.join(":").trim(),F=new Array(e.length-e.trim().length+1).join(" ");if(U&&L){var P=Bo([].concat(i,[Mo(U)]));return Object(Wt.jsxs)("div",{className:"line literal",children:[F,Object(Wt.jsxs)("div",{className:"key clickable",onClick:function(){return n(P,"*")},children:['"',U,'"']}),":"," ",Object(Wt.jsx)("div",{className:"clickable value",onClick:function(){return n(P,o(t,P))},children:L})]},r)}var M=Bo(i);return Object(Wt.jsxs)("div",{className:"line literal",children:[F,Object(Wt.jsx)("div",{className:"clickable value",onClick:function(){return n(M,o(t,M))},children:e.trim()})]},r)}return Object(Wt.jsx)("div",{className:"line generic",children:e},r)}));return Object(Wt.jsx)("div",{className:"HighlightedJSON",children:s})},qo=(n(372),["level","search","metadata.emulator","metadata.emulator.name","metadata.function","metadata.function.name"]);function Wo(e){var t="",n=!1,r=!0,a=!1,c=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var s=i.value;n?(t+="\u02cd",n=!1):(t+=s,"\\"===s&&(n=!0))}}catch(O){a=!0,c=O}finally{try{r||null==o.return||o.return()}finally{if(a)throw c}}var u=t.split('"').map((function(e,t){return t%2?e.replace(/ /g,"\u02cd"):e})).join('"').split("\n").reduce((function(e,t){return[].concat(Object(E.a)(e),Object(E.a)(t.split(/((?:[^\s]+)\s?=\s?(?:[^\s]+))/)),["\n"])}),[]),l={},d=[],j=0,b=u.map((function(t,n){var r=e.slice(j,j+t.length);j+=t.length;var a=r.indexOf("=")>-1&&"="!==r[0]&&"="!==r.slice(-1)[0];if("\n"===r)return Object(Wt.jsx)("br",{},n);if(!a)return d.push(r),Object(Wt.jsx)("span",{className:"text",children:r},n);var c=r.split("=")[0].trim();if(a&&-1===qo.indexOf(c)&&!c.startsWith("user.")&&!c.startsWith("user["))return Object(Wt.jsx)("span",{children:Object(Wt.jsx)("span",{className:"invalid_pair",children:r})},n);var i=r.split("="),o=Object(v.a)(i,2),s=o[0],u=o[1];try{l[s.trim()]=JSON.parse(u)}catch(O){l[s.trim()]=u}return Object(Wt.jsxs)("span",{children:[Object(Wt.jsxs)("span",{className:"key",children:[s,"="]}),Object(Wt.jsx)("span",{className:"value",children:u})]},n)})),f=[l.search,d.filter((function(e){return e})).join(" ").trim()].filter((function(e){return e})).join(" ");return f.length&&(l.search=f),{elements:b,filters:l}}var zo,Ho=function(e){var t=e.query,n=e.setQuery,r=Object(i.useState)(""),a=Object(v.a)(r,2),c=a[0],o=a[1];Object(i.useEffect)((function(){o(t)}),[t]);var s=Wo(c);return Object(Wt.jsxs)("div",{className:"QueryBar",children:[Object(Wt.jsx)("div",{className:"QueryBar-render",children:s.elements}),Object(Wt.jsx)("textarea",{rows:1,className:"QueryBar-input",spellCheck:!1,value:c,onChange:function(e){return o(e.target.value)},placeholder:"Filter or search logs..."}),Object(Wt.jsxs)("div",{className:"QueryBar-actions",children:[Object(Wt.jsx)(on.a,{unelevated:!0,onClick:function(){return n(c)},disabled:t===c,children:"Apply"}),Object(Wt.jsx)(on.a,{unelevated:!0,disabled:!c.length,onClick:function(){o(""),n("")},children:"Reset"})]})]})},Go=function(e){var t=new Date(e);return[t.getHours(),t.getMinutes(),t.getSeconds()].map((function(e){var t=e.toString();return 2===t.length?t:"0".concat(t)})).join(":")},Jo=function(e){var t,n,r,a=e.appendToQuery,c=e.log.data.metadata;return(null===c||void 0===c||null===(t=c.function)||void 0===t?void 0:t.name)?r=Object(Wt.jsxs)("div",{className:"log-tag-button",onClick:function(){var e;return a("metadata.function.name",null===(e=c.function)||void 0===e?void 0:e.name)},children:["function[",c.function.name,"]"]}):(null===c||void 0===c||null===(n=c.emulator)||void 0===n?void 0:n.name)&&(r=Object(Wt.jsx)("div",{className:"log-tag-button",onClick:function(){var e;return a("metadata.emulator.name",null===(e=c.emulator)||void 0===e?void 0:e.name)},children:c.emulator.name})),Object(Wt.jsx)("div",{className:"log-tag",children:r})},Ko=Object(l.b)((function(e){return{log:e.log}}),{})((function(e){var t=e.parsedQuery,n=e.setQuery,r=e.log,a=e.compiledGetters,o=r.history.filter((function(e){return function(e,t,n){for(var r=0,a=Object.keys(e.filters);r<a.length;r++){var c=a[r];if("search"===c){if(-1===JSON.stringify(t).toLowerCase().indexOf(e.filters[c].toLowerCase()))return!1}else{var i=c;(i.startsWith("user.")||i.startsWith("metadata.")||i.startsWith("user[")||i.startsWith("metadata["))&&(i="data.".concat(i));var o=e.filters[c],s=n.getOrCompile(i,t);if(!s||void 0!==o&&"*"!==o&&o.toString()!==s.toString())return!1}}return!0}(t,e,a)})),s=Object(i.useRef)(null);Object(i.useEffect)((function(){s&&s.current&&s.current.scrollIntoView()}),[o]);var u=function(e,r){n(function(e){var t=[];for(var n in e)t.push("".concat(n,"=").concat(JSON.stringify(e[n])));return t.sort().join("\n")}(Object(N.a)(Object(N.a)({},t.filters),{},Object(R.a)({},e,r))))},l=function(e){var t,n;return(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.user)&&Object.keys(null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.user).length};return Object(Wt.jsxs)(c.b,{options:{surface:f},className:"LogHistory",children:[o.length?o.slice(-100).map((function(e,t){return Object(Wt.jsxs)("div",{id:"log_".concat(t),className:"log-entry",children:[Object(Wt.jsx)("span",{className:"log-timestamp",children:Go(e.timestamp)}),Object(Wt.jsx)("span",{className:"log-level ".concat(e.level),onClick:function(){return u("level",e.level)},children:e.level[0].toUpperCase()}),Object(Wt.jsx)(Jo,{appendToQuery:u,log:e}),l(e)?Object(Wt.jsx)(Vo,{data:e.data.user,appendToQuery:u,compiledGetters:a}):Object(Wt.jsx)("div",{className:"log-message-single",children:e.message})]},t)})):Object(Wt.jsx)("div",{className:"LogHistoryEmpty",children:"No logs are found which match your filters."}),Object(Wt.jsx)("div",{ref:s})]})}));!function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTED=1]="CONNECTED",e[e.PENDING=2]="PENDING"}(zo||(zo={}));var Qo=function(){function e(t){var n=this;Object(T.a)(this,e),this.state=zo.DISCONNECTED,this.listener=void 0,this.interval=void 0,this.ws=void 0,this.connect(t),this.interval=setInterval((function(){return n.connect(t)}),1e3)}return Object(Ue.a)(e,[{key:"connect",value:function(e){var t=this;if(this.state===zo.DISCONNECTED){var n=new WebSocket("ws://".concat(e.hostAndPort));this.ws=n,this.state=zo.PENDING,n.onopen=function(){t.state=zo.CONNECTED},n.onclose=function(){t.state=zo.DISCONNECTED},n.onmessage=function(e){var n=JSON.parse(e.data);t.listener&&t.listener(n)}}}},{key:"cleanup",value:function(){this.listener=void 0,this.interval&&clearInterval(this.interval),this.ws&&this.ws.close(),this.ws=void 0}}]),e}(),Zo=new Fo;var Yo={logReceived:Tt.logReceived,logReset:Tt.logReset},$o=[{path:"/",component:To,label:"Overview",exact:!0,showInNav:!0},{path:"/auth",component:$r,label:"Authentication",exact:!1,showInNav:!0},{path:"/firestore",component:yo,label:"Firestore",exact:!1,showInNav:!0},{path:"/database",component:Zc,label:"Realtime Database",exact:!1,showInNav:!0},{path:"/logs",component:Object(l.b)((function(e){var t=e.config;return{config:Object(de.d)(t.result)?t.result.data.logging:void 0}}),Yo)((function(e){var t=e.logReceived,n=e.logReset,r=e.config,a=function(){var e=Object(j.h)().search;return Object(i.useMemo)((function(){return new URLSearchParams(e)}),[e])}(),c=Object(i.useState)(a.get("q")||""),o=Object(v.a)(c,2),s=o[0],u=o[1];Object(i.useEffect)((function(){if(r){n();var e=new Qo(r);return e.listener=function(e){t(e)},function(){return e.cleanup()}}}),[r,t,n]);var l=Wo(s);return Object(Wt.jsx)(p.b,{span:12,children:Object(Wt.jsx)(m.a,{z:2,wrap:!0,children:Object(Wt.jsxs)(Mt.a,{className:"LogViewer",children:[Object(Wt.jsx)(Ho,{query:s,setQuery:u,compiledGetters:Zo}),Object(Wt.jsx)(Ko,{parsedQuery:l,setQuery:u,compiledGetters:Zo})]})})})})),label:"Logs",exact:!0,showInNav:!0}],Xo=(n(373),n(413)),es=n(412),ts=n(243),ns=function(){return Object(Wt.jsx)(qt.a,{className:"Logo",icon:{strategy:"component",icon:Object(Wt.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 192 192",style:{width:"24px",height:"24px"},children:[Object(Wt.jsxs)("defs",{children:[Object(Wt.jsx)("clipPath",{id:"a",children:Object(Wt.jsx)("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150l57.9 32.46a12 12 0 0 0 11.7 0L160 150z"})}),Object(Wt.jsxs)("linearGradient",{id:"d",x1:"-108.63",y1:"-692.24",x2:"-58.56",y2:"-742.31",gradientTransform:"matrix(2.67 0 0 -2.67 317.23 -1808)",gradientUnits:"userSpaceOnUse",children:[Object(Wt.jsx)("stop",{offset:"0",stopColor:"#fff",stopOpacity:".1"}),Object(Wt.jsx)("stop",{offset:"1",stopColor:"#fff",stopOpacity:"0"})]}),Object(Wt.jsxs)("linearGradient",{id:"b",x1:"56.9",y1:"102.54",x2:"48.9",y2:"98.36",gradientUnits:"userSpaceOnUse",children:[Object(Wt.jsx)("stop",{offset:"0",stopColor:"#a52714"}),Object(Wt.jsx)("stop",{offset:".4",stopColor:"#a52714",stopOpacity:".5"}),Object(Wt.jsx)("stop",{offset:".8",stopColor:"#a52714",stopOpacity:"0"})]}),Object(Wt.jsxs)("linearGradient",{id:"c",x1:"90.89",y1:"90.91",x2:"87.31",y2:"87.33",gradientUnits:"userSpaceOnUse",children:[Object(Wt.jsx)("stop",{offset:"0",stopColor:"#a52714",stopOpacity:".8"}),Object(Wt.jsx)("stop",{offset:".5",stopColor:"#a52714",stopOpacity:".21"}),Object(Wt.jsx)("stop",{offset:"1",stopColor:"#a52714",stopOpacity:"0"})]})]}),Object(Wt.jsxs)("g",{clipPath:"url(#a)",children:[Object(Wt.jsx)("path",{d:"M32 150L53.66 11.39a4 4 0 0 1 7.48-1.27l22.4 41.78 8.93-17a4 4 0 0 1 7.08 0L160 150z",fill:"#ffa000"}),Object(Wt.jsx)("path",{opacity:".12",fill:"url(#b)",d:"M106 9L0 0v192l32-42L106 9z"}),Object(Wt.jsx)("path",{d:"M106.83 96.01l-23.3-44.12L32 150l74.83-53.99z",fill:"#f57c00"}),Object(Wt.jsx)("path",{opacity:".2",fill:"url(#c)",d:"M0 0h192v192H0z"}),Object(Wt.jsx)("path",{d:"M160 150L143.41 47.34a4 4 0 0 0-6.77-2.16L32 150l57.9 32.47a12 12 0 0 0 11.7 0z",fill:"#ffca28"}),Object(Wt.jsx)("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150h-.08l.07.08.57.28L115.83 67l20.78-20.8a4 4 0 0 1 6.78 2.16l16.45 101.74.16-.1zM32.19 149.81L53.66 12.39a4 4 0 0 1 7.48-1.28l22.4 41.78 8.93-17a4 4 0 0 1 7.08 0l16 30.43z",fill:"#fff",fillOpacity:".2"}),Object(Wt.jsx)("path",{d:"M101.6 181.49a12 12 0 0 1-11.7 0l-57.76-32.4-.14.91 57.9 32.46a12 12 0 0 0 11.7 0L160 150l-.15-.92z",fill:"#a52714",opacity:".2"}),Object(Wt.jsx)("path",{d:"M143.41 47.34a4 4 0 0 0-6.77-2.16L115.88 66 99.54 34.89a4 4 0 0 0-7.08 0l-8.93 17-22.4-41.77a4 4 0 0 0-7.48 1.28L32 150l57.9 32.46a12 12 0 0 0 11.7 0L160 150z",fill:"url(#d)"})]})]})}})},rs=function(e){var t=e.routes,n=Object(j.h)(),r=t.filter((function(e){return e.showInNav})),a=r.map((function(e){var t=e.path,n=e.label;return Object(Wt.jsx)(Xo.a,{className:"mdc-tab--min-width",tag:d.b,to:t,children:n},n)})),i=r.findIndex((function(e){return Object(j.f)(n.pathname,{path:e.path,exact:e.exact})}));return Object(Wt.jsx)(c.b,{options:{primary:"#D7AEFB",surface:"#0c2d48",onSurface:"#FFF"},wrap:!0,children:Object(Wt.jsxs)(ts.a,{fixed:!0,className:"AppBar",theme:"surface",children:[Object(Wt.jsx)("div",{className:"AppBar-title-row",children:Object(Wt.jsxs)("div",{className:"AppBar-logo-lockup",children:[Object(Wt.jsx)(ns,{}),Object(Wt.jsx)(Bt.a,{use:"headline5",className:"AppBar-title",tag:"h1",children:"Firebase Emulator Suite"})]})}),Object(Wt.jsx)(es.a,{theme:"onSurface",activeTabIndex:i,children:a})]})})},as=Pt({configRemote:Je.a}),cs=Object(l.b)(as)((function(e){var t=e.configRemote;return Object(de.e)(t.result)?Object(Wt.jsxs)(ln.a,{open:!0,preventOutsideDismiss:!0,children:[Object(Wt.jsx)(ln.e,{children:"Emulator Suite Disconnected"}),Object(Wt.jsxs)(ln.d,{children:["All emulators for this project have stopped running. To restart all emulators, at the command line, run"," ",Object(Wt.jsx)("code",{children:"firebase emulators:start"}),"."]})]}):null})),is=function(){return Object(Wt.jsxs)(Wt.Fragment,{children:[Object(Wt.jsx)(h.a,{dialogs:Fn}),Object(Wt.jsx)(O.a,{}),Object(Wt.jsx)(cs,{}),Object(Wt.jsx)(c.a,{use:"background",wrap:!0,children:Object(Wt.jsxs)("div",{className:"App",children:[Object(Wt.jsx)(rs,{routes:$o}),Object(Wt.jsx)(p.a,{className:"App-main",children:Object(Wt.jsxs)(j.d,{children:[$o.map((function(e){return Object(Wt.jsx)(j.b,{path:e.path,component:e.component,exact:e.exact},e.path)})),Object(Wt.jsx)(j.a,{from:"/functions",to:"/logs?q=metadata.emulator.name%3D%22functions%22"}),Object(Wt.jsx)(j.a,{to:"/"})," "]})})]})})]})},os=n(246);var ss=function(){var e=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||y.d,t=Object(os.a)(),n=Object(y.e)(Ft,e(Object(y.a)(t)));return t.run(Lt),n}(),us=function(){return Object(i.useEffect)((function(){ss.dispatch(Object(Ge.subscribe)())}),[]),Object(Wt.jsx)(d.a,{children:Object(Wt.jsx)(j.d,{children:Object(Wt.jsx)(j.b,{component:is})})})};u.a.unstable_createBlockingRoot(document.getElementById("root")).render(Object(Wt.jsx)(o.a.StrictMode,{children:Object(Wt.jsx)(a.a,{ripple:!1,children:Object(Wt.jsx)(c.b,{options:{background:"#F6F7F9",primary:b,primaryRgb:"104, 29, 168",secondary:"rgba(0, 0, 0, .54)",error:"#d32f2f"},children:Object(Wt.jsx)(l.a,{store:ss,children:Object(Wt.jsx)(us,{})})})})}))},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"g",(function(){return j})),n.d(t,"f",(function(){return b}));var r=n(23),a=n(40),c=n(19),i=function(e){return e.config},o=function(e){return e.config.result},s=Object(a.a)(o,(function(e){return Object(c.f)(e,(function(e){return e.projectId}))})),u=Object(a.a)(o,(function(e){return Object(c.f)(e,(function(e){return e.database}))})),l=Object(a.a)(o,(function(e){return Object(c.f)(e,(function(e){return e.firestore}))}));function d(e){if(!e)throw new Error("Result data requested that is not yet populated");if(Object(c.e)(e))throw new Error(e.error.message);return e.data}function j(){return d(Object(r.c)(s))}function b(){return d(Object(r.c)(l))}},51:function(e,t,n){e.exports={panel:"CollectionFilter_panel__3z15Z",header:"CollectionFilter_header__1-t0U",headerTitle:"CollectionFilter_headerTitle__ebNNW",preview:"CollectionFilter_preview__1TWpW",children:"CollectionFilter_children__l7ZC9",previewFilter:"CollectionFilter_previewFilter__eDMkO",conditionEntries:"CollectionFilter_conditionEntries__2CpLn",removeFilter:"CollectionFilter_removeFilter__1xNn1",hidden:"CollectionFilter_hidden__IoL4U",conditionEntry:"CollectionFilter_conditionEntry__xeuMd",conditionEntryType:"CollectionFilter_conditionEntryType__3jxWW",conditionEntryValue:"CollectionFilter_conditionEntryValue__3N83N",actions:"CollectionFilter_actions__1uD4j"}},60:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s}));var r=n(12),a=Object(r.createAction)("@database/DATABASES_FETCH_REQUEST")(),c=Object(r.createAction)("@database/DATABASES_FETCH_SUCCESS")(),i=Object(r.createAction)("@database/DATABASES_FETCH_ERROR")(),o=Object(r.createAction)("@database/DATABASES_SUBSCRIBE")(),s=Object(r.createAction)("@database/DATABASES_UNSUBSCRIBE")()},67:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o}));var r=n(12),a=Object(r.createAction)("@config/FETCH_REQUEST")(),c=Object(r.createAction)("@config/FETCH_SUCCESS")(),i=Object(r.createAction)("@config/FETCH_ERROR")(),o=Object(r.createAction)("@config/SUBSCRIBE")()},71:function(e,t,n){e.exports={emailWrapper:"controls_emailWrapper__2uj98",error:"controls_error__3u2lA",customAttributesWrapper:"controls_customAttributesWrapper__3rPpB",customAttributeWrapper:"controls_customAttributeWrapper__w-Bmn",signInWrapper:"controls_signInWrapper__3GGfU",signInHeader:"controls_signInHeader__1CQk8",authKindLabel:"controls_authKindLabel__1v_H7"}},93:function(e,t,n){"use strict";var r=n(195);n.o(r,"configReducer")&&n.d(t,"configReducer",(function(){return r.configReducer})),n.o(r,"configSaga")&&n.d(t,"configSaga",(function(){return r.configSaga})),n.o(r,"fetchSuccess")&&n.d(t,"fetchSuccess",(function(){return r.fetchSuccess})),n.o(r,"subscribe")&&n.d(t,"subscribe",(function(){return r.subscribe}));var a=n(67);n.d(t,"fetchSuccess",(function(){return a.c})),n.d(t,"subscribe",(function(){return a.d}));var c=n(196);n.d(t,"configReducer",(function(){return c.a}));var i=n(197);n.d(t,"configSaga",(function(){return i.a}))},94:function(e,t,n){e.exports={noResultsWrapper:"UsersTable_noResultsWrapper__2S_XP",tableWrapper:"UsersTable_tableWrapper__1Quve",disabled:"UsersTable_disabled__2DlIr"}}},[[374,8,10]]]);
//# sourceMappingURL=main.351031c2.chunk.js.map